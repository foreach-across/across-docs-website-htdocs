<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Initializing application data - Across</title>
    <meta name="generator" content="Antora 1.0.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<meta name="og:title" content="Across Documentation"/>
<meta name="og:image" content="https://across.foreach.be/across/resources/static/acrossWebsite/img/og-image-across.jpg"/>
<link rel="icon" type="image/png" sizes="16x16" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-16x16.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="96x96" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-96x96.png"/>
<link rel="apple-touch-icon" type="image/png" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-180x180.png"/>
  </head>
  <body class="article">
<header class="header" role="banner">
  <div class="m-mobile-menu__button js-overlay-menu-button" data-target="mobile-menu">
    <span class="m-mobile-menu__line"></span>
    <span class="m-mobile-menu__line"></span>
    <span class="m-mobile-menu__line"></span>
  </div>

  <div class="m-mobile-menu">
    <div class="m-mobile-menu__logo">
      <a class="m-nav__logo" href="/">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82.9 95.7">
          <title>logo-across</title>
          <path fill="#3CA873" d="M0 23.9l15.9-9.2 41.5 23.9-16 9.2"></path>
          <path fill="#0093D8" d="M25.5 9.2L41.4 0l41.5 23.9-16 9.2"></path>
          <path fill="#53DD99" d="M41.4 95.7l16-9.3V38.6l-16 9.2"></path>
          <path fill="#22CEFA" d="M66.9 80.9l16-9.2V23.9l-16 9.2"></path>
          <path fill="#257A50" d="M12.5 64.5L28.9 55l-16.4-9.4"></path>
          <path fill="#4DBC86" d="M12.5 64.5L28.9 74V55"></path>
        </svg>
        <span>Across</span>
      </a>
    </div>
  </div>
  <div class="m-mobile-menu__container js-mobile-menu-overlay" id="mobile-menu">
    <nav class="m-mobile-menu__list">
      <a href="https://across.foreach.be/blog">Blog</a>
      <a href="https://across.foreach.be/documentation" class="is-active">Docs</a>
      <a href="https://across.foreach.be/modules">Modules</a>
      <a href="https://across.foreach.be/faq">FAQ</a>
      <a href="http://start-across.foreach.be">Get started</a>
    </nav>
  </div>
  <nav class="m-nav is-sticky">
    <a class="m-nav__logo" href="../../..">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82.9 95.7">
        <title>logo-across</title>
        <path fill="#3CA873" d="M0 23.9l15.9-9.2 41.5 23.9-16 9.2"></path>
        <path fill="#0093D8" d="M25.5 9.2L41.4 0l41.5 23.9-16 9.2"></path>
        <path fill="#53DD99" d="M41.4 95.7l16-9.3V38.6l-16 9.2"></path>
        <path fill="#22CEFA" d="M66.9 80.9l16-9.2V23.9l-16 9.2"></path>
        <path fill="#257A50" d="M12.5 64.5L28.9 55l-16.4-9.4"></path>
        <path fill="#4DBC86" d="M12.5 64.5L28.9 74V55"></path>
      </svg>
      <span>Across</span>
    </a>

    <div class="m-nav__link-group">
      <a href="https://across.foreach.be/blog">Blog</a>
      <a href="https://across.foreach.be/documentation" class="is-active">Docs</a>
      <a href="https://across.foreach.be/modules">Modules</a>
      <a href="https://across.foreach.be/faq">FAQ</a>
      <a href="http://start-across.foreach.be">Get started</a>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="across" data-version="2.1.0">
  <aside class="navigation" role="navigation">
    <div class="panels">
      <div id="search-box" class="search-box is-active">
        <input id="search-input" type="text" placeholder="Search the documentation">
      </div>
      <div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Across Platform</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../in-a-nutshell.html">Across in a Nutshell</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../quick-start.html">Quick start</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../starter-trails.html">Starter Trails</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../releases/index.html">Releases</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../releases/platform/release-notes.html">Release notes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../releases/platform/index.html#2-1-0">Latest</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../releases/platform/index.html#2-1-0">2.1.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../releases/core-artifacts/index.html">Core Artifacts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../releases/core-artifacts/releases-3.x.html">3.x</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../releases/core-artifacts/releases-2.x.html">2.x</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../releases/core-artifacts/releases-1.x.html">1.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../migration/dev/index.html">Migration guides</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="creating-an-application/index.html">Developing applications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="creating-an-application/index.html">Creating an application</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="creating-an-application/application-descriptor.html">Application descriptor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="creating-an-application/project-structure.html">Project structure</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="creating-an-application/project-structure.html#application-module">Application module</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="creating-an-application/project-structure.html#application-resources">Application resources</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="application-configuration.html">Application configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="application-configuration.html#configuration-properties">Configuration properties</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="application-configuration.html#application-profiles">Application profiles</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="adding-modules.html">Adding modules</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="adding-modules.html#conditional-modules">Conditional modules</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="interacting-with-modules.html">Interacting with modules</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="interacting-with-modules.html#using-components">Using components from modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="interacting-with-modules.html#working-with-events">Working with events</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="connecting-to-a-database.html">Connecting to a database</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="application-bootstrap.html">Application bootstrap</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="extend-module-configuration.html">Customizing modules before starting</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="initializing-data.html">Initializing application data</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="initializing-data.html">Creating database schemas</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="development-mode.html">Development mode</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="messages.html">Localization and translations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="testing.html">Testing your application</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="default-modules.html">Default modules in an application</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="default-components.html">Default components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="application-deploy.html">Deploying your application</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../developing-modules/index.html">Developing modules</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../developing-modules/creating-a-module/index.html">Creating a reusable module</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developing-modules/creating-a-module/module-descriptor.html">Module descriptor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../developing-modules/creating-a-module/project-structure.html">Project structure</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developing-modules/creating-a-module/project-structure.html#module-resources">Module resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developing-modules/creating-a-module/extracting-from-application.html">Extracting a module from your application</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../developing-modules/module-dependencies/index.html">Module dependencies</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developing-modules/module-dependencies/sharing-components.html">Using components from other modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developing-modules/module-dependencies/sharing-components.html#exposing-beans">Exposing components for other modules</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developing-modules/module-dependencies/module-order-explained.html">Module order explained</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developing-modules/module-dependencies/refreshing.html">Solving order related problems</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing-modules/configuration-properties.html">Using configuration properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing-modules/installers.html">Installers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing-modules/events.html">Events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing-modules/messages.html">Messages and localized data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing-modules/extending-modules.html">Extending other modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing-modules/development-mode.html">Providing developer features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing-modules/testing.html">Testing your module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../developing-modules/distributing.html">Distributing your module</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developing-modules/distributing.html#versioning">Versioning</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing-modules/best-practices.html">Best practices</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../across-web/index.html">Across Web</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../across-web/basic-features/index.html">Basic features</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/basic-features/spring-mvc-support.html">Spring MVC support</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/basic-features/view-engines.html">View engines</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/basic-features/servlets-and-filters.html">Registering servlets and filters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/basic-features/error-pages.html">Error pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/basic-features/custom-request-mapping-support.html">Custom request mappings</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../across-web/configuration/index.html">Configuration options</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/configuration/module-settings.html">Module settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/configuration/http-encoding.html">Default HTTP encoding</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/configuration/multipart-support.html">Multipart support</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/configuration/static-resources.html">Static resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../across-web/web-views/index.html">Building web pages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/web-views/web-resources.html">Web resources</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/web-views/layout-templates.html">Layout templates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/web-views/view-elements.html">ViewElement infrastructure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/web-views/working-with-menus.html">Working with menus</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/web-views/links-and-urls.html">Links and URLs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/web-views/localized-text.html">Localizing text</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/web-views/thymeleaf-dialect.html">Thymeleaf dialect</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../across-web/web-views/partial-rendering.html">Partial view rendering</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../across-web/development-mode.html">Development mode support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../across-web/published-events.html">Published events</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../testing/index.html">Testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing/application-testing.html">Application testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../testing/module-testing.html">Module testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../testing/test-context-builders.html">Testing bootstrap combinations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../testing/test-dynamic-modules.html">Test an Application module</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing/expose-for-test.html">Exposing components for tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing/test-datasources.html">Test datasources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../testing/testing-web-features.html">Testing web features</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../testing/mock-mvc.html">Web requests using MockMvc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../testing/mock-across-servlet-context.html">Filter and servlet registration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../testing/view-element-rendering.html">View element rendering</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cheat-sheet.html">Cheat Sheet</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../spring-boot-compatibility.html">Spring Boot compatibility</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../guides/dev/index.html">Application guides</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
      <div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Across Platform</span>
    <span class="version">2.1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Across Platform</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">2.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Application Guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guides/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Autoconfiguration Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../across-autoconfigure/1.0.0/index.html">1.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Migration guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../migration/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Admin Web</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../admin-web-module/3.0.1/index.html">3.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Bootstrap UI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../bootstrap-ui-module/2.1.0/index.html">2.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Documents & Forms</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../dynamic-forms-module/0.0.1/index.html">0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Entity Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../entity-module/3.0.1/index.html">3.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Hibernate JPA</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../hibernate-jpa-module/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: LDAP Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ldap-module/1.0.1/index.html">1.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-security-module/3.0.1/index.html">3.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security - ACLs</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-security-acl-module/3.0.1/index.html">3.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security - OAuth2</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../oauth2-module/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: User Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../user-module/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Web CMS</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../web-cms-module/0.0.4/index.html">0.0.4</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
    <script>
      var indexName = window.location.href.indexOf('across-site/production/')>0 ? 'antora-across-site-production' : 'antora-across-site-preview';
      docsearch({
                  appId: 'YNK2RERBV5',
                  apiKey: '201d66bbf44a6c62002472e491d74568',
                  indexName: indexName,
                  inputSelector: '#search-input',
                  algoliaOptions: { hitsPerPage: 10 }
                })
    </script>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">Across Platform</a></li>
    <li class="crumb"><a href="creating-an-application/index.html">Developing applications</a></li>
    <li class="crumb is-current"><a href="initializing-data.html">Initializing application data</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/ForeachOS/ax-docs-across/edit/develop/docs/modules/developing-applications/pages/initializing-data.adoc">Edit this Page</a></div>
</div>
<article class="doc"><a name="section-top"></a>
<h1>Initializing application data</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>On this page, you&#8217;ll learn:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> What installers are</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> How to create a database schema</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> How to insert data into a database table using mapped domain entities.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installers"><a class="anchor" href="#_installers"></a>Installers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installers are components annotated with the <code>@Installer</code> annotation, that allow developers to perform additional initialization for their applications, for example to create database tables, test or default data.
During the start-up phases of the application, these components are created and executed if necessary, and afterwards destroyed.
As such, installers are only available during the start-up phases of the application.</p>
</div>
<div class="sect2">
<h3 id="_creating_a_database_schema"><a class="anchor" href="#_creating_a_database_schema"></a>Creating a database schema</h3>
<div class="paragraph">
<p>One of the most common use cases for installers is to create database schemas.
Let&#8217;s start of with a simple example where we create a simple database table using liquibase.</p>
</div>
<div class="paragraph">
<p>To do so, we&#8217;ll start by creating an xml file in which we use a liquibase database changelog to create a table.
The xml file should be placed in the resources directory of the project.
As good practice, it is advised to place it in a directory named <strong>installers/{application-artifact}</strong>, with a naming strategy based on your application to prevent possible name conflicts or overwrites.</p>
</div>
<div class="listingblock">
<div class="title">Example liquibase database changelog</div>
<div class="content">
<pre class="highlightjs highlight"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;databaseChangeLog
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
		xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd"&gt;

	&lt;property name="table.user" value="table_user"/&gt; <i class="conum" data-value="1"></i><b>(1)</b>

	&lt;changeSet id="201805231424" author="stg"&gt; <i class="conum" data-value="2"></i><b>(2)</b>
		&lt;preConditions onFail="MARK_RAN"&gt; <i class="conum" data-value="3"></i><b>(3)</b>
			&lt;not&gt;
				&lt;tableExists tableName="${table.user}"/&gt;
			&lt;/not&gt;
		&lt;/preConditions&gt;

		&lt;comment&gt;Creates user table&lt;/comment&gt; <i class="conum" data-value="4"></i><b>(4)</b>

		&lt;createTable tableName="${table.user}"&gt; <i class="conum" data-value="5"></i><b>(5)</b>
			&lt;column name="id" type="java.sql.Types.BIGINT"&gt;
				&lt;constraints nullable="false" primaryKey="true" primaryKeyName="pk_tbl_user"/&gt;
			&lt;/column&gt;
			&lt;column name="first_name" type="java.sql.Types.NVARCHAR(255)"&gt;
			    &lt;constraints nullable="false"/&gt;
			&lt;/column&gt;
			&lt;column name="last_name" type="java.sql.Types.NVARCHAR(255)"&gt;
                &lt;constraints nullable="false"/&gt;
            &lt;/column&gt;
			&lt;column name="email" type="java.sql.Types.NVARCHAR(255)"&gt;
				&lt;constraints nullable="false"/&gt;
			&lt;/column&gt;
			&lt;column name="date_of_birth" type="java.sql.Types.DATE"/&gt;
			&lt;column name="phone_number" type="java.sql.Types.NVARCHAR(255)"/&gt;
		&lt;/createTable&gt;
	&lt;/changeSet&gt;
&lt;/databaseChangeLog&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Definition of global properties to be used within the changesets.
Properties are replaced by their value during execution.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A changeset is defined.
Changesets always require a unique identifier (<code>id</code>) and an author.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Preconditions are defined as to when the changeset should be executed.
In this example, we check for the existence of the table we are going to create.
Should the table exist, then it does not have to be created and this changeset may be marked as ran.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Optionally, a comment can be added to further describe which changes are performed.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>A create table statement is defined.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Through the use of an installer, we can now execute the aforementioned liquibase script when the application is started.
Take a look the <a href="https://www.liquibase.org/documentation/index.html">liquibase documentation</a> to learn more about its features.</p>
</div>
<div class="paragraph">
<p>We&#8217;ve got our database changelog, now we still need to execute it.
Let&#8217;s add an installer to the project which will execute the changesets found in the aforementioned xml file.
As installers are a special type of bean that should only exist during the startup phases of our application, we want to make sure that those beans do not get created automatically.
To ensure that, we&#8217;ll add them to the <code>installers</code> package within our <code>application</code> package, which is scanned by Across for installer beans.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>installers</code> package is one of the special packages that is not scanned automatically for any type of beans.
It is however, specifically scanned to create <code>Installer</code> beans during the application startup phases.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example database schema installer</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Order(1) <i class="conum" data-value="1"></i><b>(1)</b>
@Installer(name = "schema-installer", runCondition = InstallerRunCondition.VersionDifferent, description = "Installs the required database tables", version = 1) <i class="conum" data-value="2"></i><b>(2)</b>
public class SchemaInstaller extends AcrossLiquibaseInstaller <i class="conum" data-value="3"></i><b>(3)</b>
{
	public SchemaInstaller() {
		super( "classpath:installers/demo/schema/DemoSchemaInstaller.xml" ); <i class="conum" data-value="4"></i><b>(4)</b>
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Installers are executed in the order they are picked up.
An explicit ordering can be defined using the <code>@Order</code> annotation.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>@Installer</code> annotation is present and various parameters are defined.
This means that it can be found by Across and executed during one of the startup phases.
The <code>runCondition</code> parameter defines whether the installer should <strong>always</strong> be executed, or only <strong>when necessary</strong> (e.g. through versioning).
The version parameter defaults to <code>1</code>, as such, it is not required to provide the parameter, unless you want/have increased the version of the installer before.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>For ease of use, a <code>AcrossLiquibaseInstaller</code> class has been defined.
This is a base class for Installers to execute liquibase database changelog scripts based on a given xml file.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Define the path to the xml file that contains the liquibase changelog script.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Whilst the application is being started, the installer is automatically picked up by across and executed.</p>
</div>
<div class="listingblock">
<div class="title">Abbreviated logging output during application startup</div>
<div class="content">
<pre>...
INFO --- [ost-startStop-1] f.a.c.i.AcrossBootstrapInstallerRegistry : Executing installer schema-installer for module DemoApplicationModule <i class="conum" data-value="1"></i><b>(1)</b>
INFO --- [ost-startStop-1] liquibase                                : Successfully acquired change log lock
INFO --- [ost-startStop-1] liquibase                                : Reading from PUBLIC.DATABASECHANGELOG
INFO --- [ost-startStop-1] liquibase                                : classpath:installers/demo/schema/DemoSchemaInstaller.xml: classpath:installers/demo/schema/DemoSchemaInstaller.xml::201805231424::stg: Table table_user created
INFO --- [ost-startStop-1] liquibase                                : classpath:installers/demo/schema/DemoSchemaInstaller.xml: classpath:installers/demo/schema/DemoSchemaInstaller.xml::201805231424::stg: ChangeSet classpath:installers/demo/schema/DemoSchemaInstaller.xml::201805231424::stg ran successfully in 8ms
...</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The schema installer is executed.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This can also quickly be checked through the h2-console, where our newly created table can be found.
In addition to the <code>table_user</code>, other tables have been created as well, which were created by the core schema.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/h2-console-table-user.png" alt="User table is present in h2-console">
</div>
</div>
<div class="paragraph">
<p>Installer execution is tracked to ensure that installers are only run if they have not yet been executed, which is specified through the <code>runCondition</code> and <code>version</code> parameters.
Tracking is done by the <code>AcrossInstallerRepository</code>, which can also be wired as a bean in installers.
This could be helpful in migration trajectories for example to rename installers.</p>
</div>
<div class="paragraph">
<p>Aside of tracking, execution is also synchronized for when multiple applications would connect to the same database through the use of a <code>DistributedLockRepository</code> that is created in the core schema.
The <code>DistributedLockRepository</code> provides a simple locking mechanism for RDBMS synchronization.
A lock will be taken on the database as soon as a single installer wishes to execute, and will be released once that installer has finished executing.
The lock owner will contain the hostname of the computer running the application, as well as the displayName of the AcrossContext.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Because of tracking and synchronization, a datasource is required in order to execute installers.
This is because the <code>DistributedLockRepository</code> relies on tables created in the core schema.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_installing_default_or_test_data"><a class="anchor" href="#_installing_default_or_test_data"></a>Installing default or test data</h3>
<div class="paragraph">
<p>As mentioned, installers are spring beans that only exist during the bootstrap phase of the application, which means that other beans can be wired directly into this component.
This means that we can also define installers that simply insert data into the database.
Let&#8217;s insert a default admin user in the table that we&#8217;ve created in the section above.</p>
</div>
<div class="paragraph">
<p>In the following example, we&#8217;ll create a domain model, for example a <code>User</code> class, and a corresponding repository, a <code>UserRepository</code>.
We&#8217;re going to use Spring and Hibernate to interact with the database model, so we&#8217;ll add a dependency on the Spring boot JPA starter.</p>
</div>
<div class="listingblock">
<div class="title">Abbreviated pom.xml dependencies</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">...
&lt;dependencies&gt;
    ...
  &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;/dependency&gt;
&lt;/dependencies&gt;
...</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Dependency to the Spring Data JPA starter.
Note that we do not have to specify a version, because across has a dependency transitively on the Spring boot dependencies pom through its Spring platform dependency.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example User class</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Entity <i class="conum" data-value="1"></i><b>(1)</b>
@Table(name = "table_user") <i class="conum" data-value="1"></i><b>(1)</b>
@Data <i class="conum" data-value="2"></i><b>(2)</b>
@Builder <i class="conum" data-value="3"></i><b>(3)</b>
public class User implements Persistable&lt;Long&gt; { <i class="conum" data-value="4"></i><b>(4)</b>
    @Id <i class="conum" data-value="5"></i><b>(5)</b>
    @GeneratedValue
    private Long id;

    @Column(name = "first_name")
    private String firstName;

    @Column(name = "last_name")
    private String lastName;

    @Column
    private String email;

    @Column(name = "date_of_birth")
    private LocalDate dateOfBirth;

    @Column(name = "phone_number")
    private String phoneNumber;

    @Override
    public boolean isNew() { <i class="conum" data-value="4"></i><b>(4)</b>
        return id == null || id == 0L;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>@Table</code> and <code>@Entity</code> are annotations used for persistence.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><a href="https://projectlombok.org/features/Data"><code>@Data</code></a> provides a shortcut for <code>@ToString</code>, <code>@EqualsAndHashCode</code>, <code>@Getter</code>, <code>@Setter</code> and <code>@RequiredArgsConstructor</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><a href="https://projectlombok.org/features/Builder"><code>@Builder</code></a> enables the use of a fluent api to construct the entity.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>Persistable</code> interface is implemented to further complete the mapping to our database model.
Persistable requires <code>getId</code> to be implemented to fetch the id of the entity and <code>isNew()</code> is used to check whether the entity has already been persisted once before.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example UserRepository class</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface UserRepository extends JpaRepository&lt;User, Long&gt; { <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>By extending <code>JpaRepository</code>, which is a specification of the <code>Repository</code> marker interface, Spring is able to automatically detect and create repository beans.
See <a href="https://docs.spring.io/spring-data/data-commons/docs/1.6.1.RELEASE/reference/html/repositories.html">Working with Spring Data repositories</a> and <a href="https://docs.spring.io/spring-data/jpa/docs/1.4.3.RELEASE/reference/html/jpa.repositories.html">JPA repositories</a> to learn more about the possibilities they provide.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now that we&#8217;ve created a domain entity and a repository, let&#8217;s create an installer and insert data into the database.</p>
</div>
<div class="listingblock">
<div class="title">Example User data installer</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Installer(name = "user-installer", description = "Example installer that creates a user", phase = InstallerPhase.AfterContextBootstrap) <i class="conum" data-value="1"></i><b>(1)</b>
public class UserInstaller {
    @InstallerMethod <i class="conum" data-value="2"></i><b>(2)</b>
    public void createDefaultUser(UserRepository userRepository) { <i class="conum" data-value="3"></i><b>(3)</b>
        User user = User.builder().firstName( "John" )
                .lastName( "Doe" )
                .email( "john.doe@local" )
                .dateOfBirth( LocalDate.of( 1990, 3, 24 ) )
                .build();
        userRepository.save( user ); <i class="conum" data-value="4"></i><b>(4)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>@Installer</code> annotation is provided so that the installer can be found and executed by Across.
This time around, an additional parameter <code>phase</code> has been added, which enables the developer to define during which bootstrap phase the installer should be executed.
The default phase is <code>InstallerPhase.BeforeContextBootstrap</code> which ensures that installers are executed before any modules are bootstrapped.
This allows installers to be executed before beans are created and is usually used when creating database schemas.
<code>InstallerPhase.AfterContextBootstrap</code> ensures that all modules have been fully bootstrapped and are ready to be used.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>@InstallerMethod</code> is added to denote which methods of the installer should be executed.
By using the <code>@Order</code> annotation a specific ordering can be defined for the `@InstallerMethod`s that are present.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Beans are automatically wired when specifying them as a method parameter.
By setting the <code>required</code> parameter on the <code>@InstallerMethod</code> annotation to <code>false</code>, execution will continue even if no bean can be found for a given parameter.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The defined user is persisted using the <code>JpaRepository</code> that was defined earlier.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Contents</h3>
  <div id="article-toc"></div>
</aside>
  </main>
</div>
<footer class="footer">
  <p>The Across documentation site is generated using <a href="https://antora.org" target="_blank">Antora</a>.</p>
  <div class="footer-totop">
    <!--srcset="/acrossWebsite/img/foreach-logo@2x.png 2x"-->
    <a class="footer-partner" href="http://foreach.be/" target="_blank">
      sponsored by <svg width="20" height="20" viewBox="0 0 277 311" xmlns="http://www.w3.org/2000/svg">
        <g fill="none" fill-rule="evenodd">
          <path d="M27 307.3V133.5H.9V92.7H27v-8.8c0-24.1 4.3-46.5 19.7-64.1C58.2 6.6 74.7.1 92.9.1c13.4 0 23.7 2.2 31.2 4.8l-5.9 44.8c-3.9-1.8-9.5-2.6-15.8-2.6-17.4 0-23.7 16.7-23.7 35.5v10.1h33.6v40.8H78.7v173.8H27z" fill="#FFCE01" fill-rule="nonzero"></path>
          <path d="M229.2 181c0-27.6-6.3-49.1-21.7-49.1-17 0-23.7 27.7-24.1 49.1h45.8zM183 221.4c.8 33.4 18.2 45.6 41.1 45.6 14.6 0 27.6-3.5 36.7-7l7.1 41.2c-13.4 5.7-33.6 9.7-53.3 9.7-52.5 0-81.4-38.6-81.4-105.8 0-72 33.6-115 77.4-115 41.5 0 65.6 36.4 65.6 101.4 0 15.4-.4 23.7-1.6 29.8H183v.1z" fill="#FFF" fill-rule="nonzero"></path>
        </g>
      </svg>
    </a>
    <a href="#section-top">
      <svg width="34" height="34" viewBox="0 0 62 62" xmlns="http://www.w3.org/2000/svg">
        <title>icon</title>
        <g transform="rotate(-90 30.5 30.5)" fill="none" fill-rule="evenodd">
          <circle stroke="#ffffff" fill="#1D2A3A" transform="rotate(180 30.007 30.942)" cx="30.007" cy="30.942" r="30"></circle>
          <path fill="#ffffff" d="M25 38.884h3.713l6.3-7.797-6.3-8.087-3.713.064 6.155 7.972"></path>
        </g>
      </svg>
    </a>
  </div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<script>
  tocbot.init( {
                 tocSelector: '#article-toc',
                 contentSelector: 'article',
                 headingSelector: 'h2, h3, h4',
                 collapseDepth: 3,
                 positionFixedSelector: '#article-toc',
                 scrollSmooth: false
               } );
  var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
  if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
    document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
  }
</script>
  </body>
</html>
