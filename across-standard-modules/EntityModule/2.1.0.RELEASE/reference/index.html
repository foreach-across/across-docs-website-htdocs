<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.0">
<meta name="author" content="Arne Vandamme">
<title>EntityModule</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-check-square-o:first-child,ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after,a[href^="mailto:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>EntityModule</h1>
<div class="details">
<span id="author" class="author">Arne Vandamme</span><br>
<span id="revdate">2.1.0.RELEASE</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_about">About</a></li>
<li><a href="#_general_information">1. General information</a>
<ul class="sectlevel2">
<li><a href="#_artifact">1.1. Artifact</a></li>
<li><a href="#_module_dependencies">1.2. Module dependencies</a></li>
<li><a href="#_module_settings">1.3. Module settings</a></li>
</ul>
</li>
<li><a href="#_what_s_new_in_this_version">2. What&#8217;s new in this version?</a>
<ul class="sectlevel2">
<li><a href="#_2_1_0_release">2.1.0.RELEASE</a></li>
<li><a href="#_2_0_0_release">2.0.0.RELEASE</a></li>
</ul>
</li>
<li><a href="#_about_the_entitymodule">3. About the EntityModule</a>
<ul class="sectlevel2">
<li><a href="#_entityconfiguration_and_entityassociation">3.1. EntityConfiguration and EntityAssociation</a></li>
<li><a href="#_integration_with_spring_data_repositories">3.2. Integration with Spring Data repositories</a></li>
</ul>
</li>
<li><a href="#_configuring_entity_types">4. Configuring entity types</a>
<ul class="sectlevel2">
<li><a href="#builders">4.1. Using builders</a></li>
<li><a href="#_configuring_properties">4.2. Configuring properties</a></li>
<li><a href="#_creating_an_entityconfiguration_manually">4.3. Creating an EntityConfiguration manually</a></li>
<li><a href="#_automatic_registration_of_entity_types">4.4. Automatic registration of entity types</a></li>
</ul>
</li>
<li><a href="#_integration_with_other_modules">5. Integration with other modules</a>
<ul class="sectlevel3">
<li><a href="#integration:adminwebmodule">5.1. AdminWebModule</a></li>
<li><a href="#_adminwebmodule_developer_tools">5.2. AdminWebModule: developer tools</a></li>
</ul>
</li>
<li><a href="#_entity_associations">6. Entity associations</a>
<ul class="sectlevel2">
<li><a href="#_association_type">6.1. Association type</a></li>
<li><a href="#_parentdeletemode">6.2. ParentDeleteMode</a></li>
<li><a href="#_association_naming_and_location">6.3. Association naming and location</a></li>
<li><a href="#_customize_associated_entity_creation">6.4. Customize associated entity creation</a></li>
<li><a href="#_entitylinkbuilder">6.5. EntityLinkBuilder</a></li>
</ul>
</li>
<li><a href="#entity-views">7. Entity views</a>
<ul class="sectlevel2">
<li><a href="#_default_views">7.1. Default views</a></li>
<li><a href="#_how_entity_views_work">7.2. How entity views work</a></li>
<li><a href="#_default_view_types">7.3. Default view types</a></li>
<li><a href="#configuring-views">7.4. Configuring views</a></li>
<li><a href="#list-view">7.5. List view</a></li>
<li><a href="#form-view">7.6. Form view</a></li>
<li><a href="#_delete_view">7.7. Delete view</a></li>
<li><a href="#_creating_an_additional_form_view">7.8. creating an additional form view</a></li>
<li><a href="#generic-view">7.9. custom views</a></li>
<li><a href="#_adminwebmodule_jquery_plugins">7.10. AdminWebModule JQuery plugins</a></li>
</ul>
</li>
<li><a href="#_customizing_generated_entity_views">8. Customizing generated Entity views</a>
<ul class="sectlevel2">
<li><a href="#_changing_entity_names_property_names_or_other_labels">8.1. Changing entity names, property names or other labels</a></li>
<li><a href="#customize-page-layout">8.2. Setting page title or changing page layout</a></li>
<li><a href="#_specifying_a_custom_template">8.3. Specifying a custom template</a></li>
<li><a href="#_entityviewprocessor">8.4. EntityViewProcessor</a></li>
<li><a href="#_using_a_custom_entityviewfactory">8.5. Using a custom EntityViewFactory</a></li>
<li><a href="#_selecting_properties">8.6. Selecting properties</a></li>
<li><a href="#_configuring_property_view_types">8.7. Configuring property view types</a></li>
<li><a href="#_fieldset_properties">8.8. Fieldset properties</a></li>
<li><a href="#_customizing_entity_validation">8.9. Customizing entity validation</a></li>
<li><a href="#_customizing_strong_value_strong_mode_elements">8.10. Customizing <strong>VALUE</strong> mode elements</a></li>
<li><a href="#_customizing_textbox_elements">8.11. Customizing textbox elements</a></li>
<li><a href="#_customizing_numeric_elements">8.12. Customizing numeric elements</a></li>
<li><a href="#_customizing_datetime_picker_elements">8.13. Customizing datetime picker elements</a></li>
<li><a href="#customizing-selectable-options">8.14. Customizing selectable options</a></li>
</ul>
</li>
<li><a href="#_default_entity_configuration">9. Default entity configuration</a>
<ul class="sectlevel2">
<li><a href="#_auditable">9.1. Auditable</a></li>
</ul>
</li>
<li><a href="#entity-query">10. EntityQuery infrastructure</a>
<ul class="sectlevel2">
<li><a href="#entity-query-executor">10.1. EntityQueryExecutor</a></li>
<li><a href="#entity-query-language">10.2. EntityQuery Language (EQL)</a></li>
<li><a href="#_eql_filtering_on_list_view">10.3. EQL filtering on list view</a></li>
<li><a href="#eql-predicate-on-list-view">10.4. EQL predicate on list view</a></li>
<li><a href="#_extending_eql">10.5. Extending EQL</a></li>
</ul>
</li>
<li><a href="#_appendices">11. Appendices</a>
<ul class="sectlevel2">
<li><a href="#appendix-entity-configuration-attributes">11.1. EntityConfiguration attributes</a></li>
<li><a href="#appendix-entity-property-descriptor-attributes">11.2. EntityPropertyDescriptor attributes</a></li>
<li><a href="#appendix-message-codes">11.3. Message codes</a></li>
<li><a href="#appendix-view-processors">11.4. Default EntityViewProcessors</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="openblock copyright">
<div class="content">
<div class="paragraph">
<p>Copyright &#169; 2014-2017<br>
<span class="small">Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically.</span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about"><a class="anchor" href="#_about"></a>About</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The EntityModule is responsible for automatically generating an administration UI of entities built.
It provides infrastructure to define an entity model and to generate default web pages based on that model.
By default all Spring Data repositories are introspected and corresponding entity models are built for every repository.</p>
</div>
<div class="paragraph">
<p>Module website: <a href="https://foreach.atlassian.net/wiki/display/AX/EntityModule" class="bare">https://foreach.atlassian.net/wiki/display/AX/EntityModule</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_general_information"><a class="anchor" href="#_general_information"></a>1. General information</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_artifact"><a class="anchor" href="#_artifact"></a>1.1. Artifact</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.foreach.across.modules&lt;/groupId&gt;
        &lt;artifactId&gt;entity-module&lt;/artifactId&gt;
        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_module_dependencies"><a class="anchor" href="#_module_dependencies"></a>1.2. Module dependencies</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Module dependencies</caption>
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Module</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#integration:adminwebmodule">AdminWebModule</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables auto generated forms for managing the registered entities.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_module_settings"><a class="anchor" href="#_module_settings"></a>1.3. Module settings</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">entityModule.entityValidator.registerForMvc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Should the entity Validator instance be registered as the default validator for MVC databinding.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_s_new_in_this_version"><a class="anchor" href="#_what_s_new_in_this_version"></a>2. What&#8217;s new in this version?</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_2_1_0_release"><a class="anchor" href="#_2_1_0_release"></a>2.1.0.RELEASE</h3>
<div class="ulist">
<ul>
<li>
<p>improve the ability to <a href="#customize-page-layout">customize page titles and layouts</a></p>
<div class="ulist">
<ul>
<li>
<p>all entity views now set a page (sub) title if a matching message code returns a non-empty string</p>
<div class="ulist">
<ul>
<li>
<p>there is a default title for all views except the list view</p>
</li>
</ul>
</div>
</li>
<li>
<p>list views now also publish an <code>EntityPageStructureRenderedEvent</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>select option controls now support <code>SelectFormElementConfiguration</code> to render more <a href="#customizing-selectable-options">advanced bootstrap-select controls</a></p>
</li>
<li>
<p>added <em>ILIKE</em> operator to the <a href="#entity-query-language">EntityQuery Language</a> for case insensitive matching on String columns</p>
<div class="ulist">
<ul>
<li>
<p>an <code>EntityQueryConditionTranslator</code> attribute can be registered on entity properties to ensure regular equal and like lookups are always converted to the case insensitive equivalent</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_2_0_0_release"><a class="anchor" href="#_2_0_0_release"></a>2.0.0.RELEASE</h3>
<div class="paragraph">
<p>This release has a lot of breaking changes compared with the previous release.
The code has been heavily rewritten and optimized.
The public API modified accordingly with a focus on simplification and future extensibility.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>requires Across 2.0.0+</p>
</li>
<li>
<p>massive overhaul of the <code>EntitiesConfigurationBuilder</code> system - removed the <code>and()</code> concatenating of builder calls</p>
</li>
<li>
<p>massive overhaul of <code>EntityViewFactory</code>, <code>EntityViewProcessor</code> and the default administration controllers</p>
<div class="ulist">
<ul>
<li>
<p>nested builder consumers are used instead - this greatly simplified the class hierarchy involved</p>
</li>
</ul>
</div>
</li>
<li>
<p>externalized the entire <code>ViewElement</code> infrastructure to <a href="https://foreach.atlassian.net/wiki/display/AX/BootstrapUiModule">BootstrapUiModule</a></p>
<div class="ulist">
<ul>
<li>
<p>if <a href="https://foreach.atlassian.net/wiki/display/AX/BootstrapUiModule">BootstrapUiModule</a> is not present, default views will not be created</p>
</li>
</ul>
</div>
</li>
<li>
<p>compatibility update with Spring 4.2 which replaces <code>CrudInvoker</code> with <code>RepositoryInvoker</code> from spring-data-commons.</p>
</li>
<li>
<p>principal names on <code>Auditable</code> entities are now pretty printed using the <code>SecurityPrincipalLabelResolverStrategy</code> from the <em>SpringSecurityModule</em></p>
</li>
<li>
<p>EntityModule now supports <a href="#delete-view">deleting of entities</a></p>
</li>
<li>
<p>the <code>EntityModel</code> of an <code>EntityConfiguration</code> can now be customized using the <a href="#builders"><code>EntityConfigurer</code> builders</a></p>
</li>
<li>
<p>extension of the <a href="#entity-query">EntityQuery infrastructure</a></p>
<div class="ulist">
<ul>
<li>
<p>addition of the <a href="#entity-query-language">EntityQuery Language (EQL)</a> providing SQL-like syntax for building an <code>EntityQuery</code></p>
</li>
<li>
<p>provide a default <a href="#list-view-filter">EQL-based filter for list views</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>addition of the entity browser in the <em>Developer tools</em> section of AdminWebModule</p>
<div class="ulist">
<ul>
<li>
<p>allows seeing all registered entities along with their attributes, properties, views and associations</p>
</li>
<li>
<p>the entity browser is only activate if development mode is active</p>
</li>
</ul>
</div>
</li>
<li>
<p>streamlined the message code hierarchy for view rendering, see <a href="#appendix-message-codes">appendix for details</a></p>
</li>
<li>
<p>a list view can now have a <a href="#eql-predicate-on-list-view">default predicate assigned using an EQL statement</a></p>
<div class="ulist">
<ul>
<li>
<p>this can be used to ensure a list result always has a default filter applied</p>
</li>
</ul>
</div>
</li>
<li>
<p>default entity views support <a href="#transaction-support">transactions</a> allowing multiple processors to modify data in a single transaction</p>
<div class="ulist">
<ul>
<li>
<p>transactions are enabled by default for state modifying HTTP methods of all form views (create, update, delete and custom form views)</p>
</li>
</ul>
</div>
</li>
<li>
<p>option controls (select, multi-checkbox) can be easily <a href="#customizing-selectable-options">customized through a number of attributes</a></p>
<div class="ulist">
<ul>
<li>
<p>making it easier to specify the option values that can be selected</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about_the_entitymodule"><a class="anchor" href="#_about_the_entitymodule"></a>3. About the EntityModule</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_entityconfiguration_and_entityassociation"><a class="anchor" href="#_entityconfiguration_and_entityassociation"></a>3.1. EntityConfiguration and EntityAssociation</h3>

</div>
<div class="sect2">
<h3 id="_integration_with_spring_data_repositories"><a class="anchor" href="#_integration_with_spring_data_repositories"></a>3.2. Integration with Spring Data repositories</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_entity_types"><a class="anchor" href="#_configuring_entity_types"></a>4. Configuring entity types</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="builders"><a class="anchor" href="#builders"></a>4.1. Using builders</h3>
<div class="paragraph">
<p>Entities are usually automatically added to the <code>EntityRegistry</code> through the use of one or more <code>EntityRegistrar</code> beans.
The registrars will apply a default configuration, usually consisting of all properties, associations and views.</p>
</div>
<div class="paragraph">
<p>Customizing the <code>EntityRegistry</code> is done by implementing one or more <code>EntityConfigurer</code> beans in your modules.
These receive an <code>EntitiesConfigurationBuilder</code> that effectively allows you to customize all registered <code>EntityConfiguration</code> instances.
Multiple <code>EntityConfigurer</code> beans can modify the same <code>EntityConfiguration</code>, the order in which they are applied will determine the last value if they modify the same properties.</p>
</div>
<div class="paragraph">
<p>Investigate the javadoc of the <code>EntitiesConfigurationBuilder</code> and child builders to discover all possible configuration options.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@AcrossDepends(required = "EntityModule")
@Configuration
public class UserEntitiesConfiguration implements EntityConfigurer
{
	@Override
	public void configure( EntitiesConfigurationBuilder configuration ) {
		// By default permissions cannot be managed through the user interface
		configuration.withType( Permission.class ).hide();
	}
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_properties"><a class="anchor" href="#_configuring_properties"></a>4.2. Configuring properties</h3>
<div class="paragraph">
<p>Properties for an entity can be configured through the builders as well.
New properties can be added or the default properties can modified.
How properties are configured determines how they will be rendered on the generated forms.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">hidden</dt>
<dd>
<p>A hidden property will by default not be returned when requesting all properties from an <code>EntityPropertyRegistry</code>.
You can still get this property directly however, the <code>hidden</code> state means a property will not advertise itself, you must know of its existence.</p>
</dd>
<dt class="hdlist1">readable</dt>
<dd>
<p>Any readable property can be rendered in all views.
This state means that a form control can always be generated, even though it might very well be readonly if the property is not <code>writable</code>.</p>
</dd>
<dt class="hdlist1">writable</dt>
<dd>
<p>A writable property can be rendered in form views.
In case a property is writable but not readable, the property can only be included in forms but not in other views.</p>
</dd>
</dl>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The <code>hidden</code> state has no correlation with a hidden form control.
Setting a property to be rendered as a hidden form control can only be done through configuring the right <code>ViewElement</code> information for that property.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_configuring_a_label"><a class="anchor" href="#_configuring_a_label"></a>4.2.1. Configuring a label</h4>
<div class="paragraph">
<p>An entity with a corresponding <code>EntityConfiguration</code> always has a label, this is a textual representation of the entity in for example lists.
This could be the <strong>name</strong> or the * title* property for example.
By default the label corresponds to a custom generated property <strong>#label</strong> that defaults to calling <code>toString()</code> on the entity.</p>
</div>
<div class="paragraph">
<p>You can configure the label using the <code>label()</code> method on a <code>PropertyDescriptorBuilder</code>.
This is equivalent to calling <code>property("#label")</code>.
If you want to use another property as the base for label generation, you can configure this on the <code>EntityConfigurationBuilder</code> by calling <code>label("propertyName")</code>.
This will copy all settings from the source property to the <strong>#label</strong> property, but keep in mind it still is a separate property that can be customized.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Override
public void configure( EntitiesConfigurationBuilder entities ) {
    // Configure the username to be used as label for a User entity
    entities.withType( User.class ).label( "username" );

    // Configure the group name to be used as base label, but modify the value fetcher so
    // the label is prefixed with Group
    entities.withType( Group.class )
            .properties( props -&gt; props.label( "name" ).spelValueFetcher( "'Group: ' + name" ) );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you do not wish to use the <strong>#label</strong> property at all as default entity label, you can customize the <code>Printer</code> used for label generation by modifying the <code>EntityModel</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
As <strong>#label</strong> is a generated property, sorting is not enabled by default.
If you configure the label using an existing property, the sortable attribute will be copied as well and sorting on label will be possible.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_an_entityconfiguration_manually"><a class="anchor" href="#_creating_an_entityconfiguration_manually"></a>4.3. Creating an EntityConfiguration manually</h3>
<div class="sect3">
<h4 id="_attributes_to_configure"><a class="anchor" href="#_attributes_to_configure"></a>4.3.1. Attributes to configure</h4>
<div class="paragraph">
<p>Some attributes are mandatory, others are optional but will often impact how much functionality is available out of the box.
You can configure any attribute you like, see the section on <a href="#automatic-attributes">automatic registration</a> for a list of common attributes provided by other registrars.</p>
</div>
</div>
<div class="sect3">
<h4 id="_entityqueryexecutor"><a class="anchor" href="#_entityqueryexecutor"></a>4.3.2. EntityQueryExecutor</h4>
<div class="paragraph">
<p>In order for generated views to work automatically, an <code>EntityConfiguration</code> should have an <code>EntityQueryExecutor</code> attribute.
The <code>EntityQueryExecutor</code> is a generic interface that supports the simple <code>EntityQuery</code> abstraction for fetching entities from the backing repository.
Default implementations exist for <code>JpaSpecificationExecutor</code> and <code>QueryDslPredicateExecutor</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_registering_an_enum_as_entity"><a class="anchor" href="#_registering_an_enum_as_entity"></a>4.3.3. Registering an ENUM as entity</h4>
<div class="paragraph">
<p>EntityModule supports registration of enums as <code>EntityConfiguration</code>.
When creating an <code>EntityConfiguration</code> for an enum, a basic <code>EntityModule</code> will get built and all enum properties will be configurable.</p>
</div>
<div class="paragraph">
<p>Registering enums as entity is mainly useful for configuration of display properties in related entity views.</p>
</div>
<div class="listingblock">
<div class="title">Example registering an enum as entity</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// Enum class
public enum Country
{
    BE( "Belgium" ),
    UK( "United Kingdom" ),
    NL( "Netherlands" );

    private String name;

    Country( String name ) {
        this.name = name;
    }

    public String getName() {
        return name;
    }
}

// Create the EntityConfiguration
@Override
public void configure( EntitiesConfigurationBuilder entities ) {
    entities.create().entityType( Country.class, true ).label( "name" );
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_automatic_registration_of_entity_types"><a class="anchor" href="#_automatic_registration_of_entity_types"></a>4.4. Automatic registration of entity types</h3>
<div class="sect3">
<h4 id="_spring_data_repositories"><a class="anchor" href="#_spring_data_repositories"></a>4.4.1. Spring Data repositories</h4>
<div class="sect4">
<h5 id="_jpa_repositories"><a class="anchor" href="#_jpa_repositories"></a>JPA repositories</h5>
<div class="paragraph">
<p>DOCUMENTATION TODO:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Embedded ID</p>
</li>
<li>
<p>register conversion service</p>
</li>
<li>
<p>add json serializer</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="automatic-attributes"><a class="anchor" href="#automatic-attributes"></a>Automatic attribute registration</h5>
<div class="paragraph">
<p>See the appendix for an <a href="#appendix-entity-configuration-attributes">overview of commonly registered attributes</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_integration_with_other_modules"><a class="anchor" href="#_integration_with_other_modules"></a>5. Integration with other modules</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="integration:adminwebmodule"><a class="anchor" href="#integration:adminwebmodule"></a>5.1. AdminWebModule</h4>
<div class="paragraph">
<p>If the AdminWebModule is present entity management controllers will be created for all registered entity configurations.
If you want to avoid the automatic registration of entity management controllers for a particular entity type, you should set the <code>EntityConfiguration</code> as <code>hidden</code>.
This will effectively disable the default entity controllers for that type, and hide the existence of the entity type from the administration interface.</p>
</div>
<div class="paragraph">
<p>You can also hide one or more associations.
By default an association will not be shown if one of the participating entities is hidden.
If you specify the <code>hidden</code> property of an <code>EntityAssociation</code> explicitly, that value will take precedence of the entity configurations.
This way it is possible to generate management pages for associated entities, but not for the main entity type.</p>
</div>
</div>
<div class="sect3">
<h4 id="_adminwebmodule_developer_tools"><a class="anchor" href="#_adminwebmodule_developer_tools"></a>5.2. AdminWebModule: developer tools</h4>
<div class="paragraph">
<p>When integrated with AdminWebModule and development mode is active, an entity registry browser will be added to the <em>Developer tools</em> section of the administration ui.
The browser allows you to inspect the registered entities along with their views, associations and properties.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_entity_associations"><a class="anchor" href="#_entity_associations"></a>6. Entity associations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>EntityModule</code> attempts to automatically detect related entities and creates associations mainly to facilitate UI generation.
Currently <code>@OneToMany</code>, <code>@ManyToMany</code> and <code>@ManyToOne</code> annotations from <code>javax.persistence</code> API are all scanned and used to build <code>EntityAssociation</code> entries.</p>
</div>
<div class="paragraph">
<p>In the administrative UI the management of related entities can often be done either through the property or the association.
This is especially the case for <code>@ManyToMany</code> and <code>@OneToMany</code> associations that are mapped through a property with collection type.
By default related entity management will be done through the property and the association will be generated but hidden.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you want to enable management through the association interface, you should manipulate the <code>hidden</code> property of both the association and the property using an <code>EntityConfigurer</code>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Override
public void configure( EntitiesConfigurationBuilder configuration ) {
    // Groups should be managed through the association instead of the property
    configuration.withType( MachinePrincipal.class )
                 .properties( props -&gt; props.property( "groups" ).hidden( true ) )
                 .association( ab -&gt; ab.name( "machinePrincipal.groups" ).show() );
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_association_type"><a class="anchor" href="#_association_type"></a>6.1. Association type</h3>
<div class="paragraph">
<p>Every <code>EntityAssociation</code> is of a specific type, configured through the <strong>associationType</strong> property.
The association type determines how the associated values can be managed through the user interface.</p>
</div>
<div class="paragraph">
<p>The following association types are possible:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Association type</th>
<th class="tableblock halign-left valign-top">Behaviour</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LINKED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The related entities are only linked to.
The tab of the parent entity shows the list of related entities, but any modify action will navigate away from the parent entity.
</p><p class="tableblock">This is the appropriate type if your related entities can in turn have other related entities.
Usually this also means the related entity type has a main menu item.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EMBEDDED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The related entities will be managed through the tab of their parent entity.
Modifying a related entity will be displayed as modifying the parent entity, no action will leave the context of the parent entity.
</p><p class="tableblock">Use this type if the related entities only exist if their parent exists.
Usually the related entity type does not have any menu item, nor sub tabs (the latter would not be displayed).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>By default an association is of type <code>LINKED</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parentdeletemode"><a class="anchor" href="#_parentdeletemode"></a>6.2. ParentDeleteMode</h3>
<div class="paragraph">
<p>An <code>EntityAssociation</code> has a <strong>parentDeleteMode</strong> property that determines how associated items will influence the ability to delete in the user interface.
The default value is <code>SUPPRESS</code> but can be set through the <code>EntitiesConfigurationBuilder</code>.</p>
</div>
<div class="paragraph">
<p>For more information see the <a href="#delete-view">delete view chapter</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_association_naming_and_location"><a class="anchor" href="#_association_naming_and_location"></a>6.3. Association naming and location</h3>
<div class="paragraph">
<p>Associations are added to the <code>EntityConfiguration</code> for which it makes most sense to manage them from a UI perspective.
The association naming however is done according to the entity class and property names.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>entity <code>Group</code></p>
</li>
<li>
<p>entity <code>User</code> has a one to many with <code>Group</code> on property <strong>groups</strong></p>
</li>
<li>
<p>association <strong>user.groups</strong> will be created on the entity configuration of <code>Group</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_customize_associated_entity_creation"><a class="anchor" href="#_customize_associated_entity_creation"></a>6.4. Customize associated entity creation</h3>
<div class="paragraph">
<p>You can customize the creation of an associated entity in the form views, by setting a custom <code>EntityFactory</code>.
This is especially useful for manually creating associations.</p>
</div>
<div class="paragraph">
<p>An <code>EntityAssociation</code> can have an <code>EntityFactory.class</code> attribute set that contains the <code>EntityFactory</code> that should be used for creating associated items.
If no factory is set as attribute on the association, the default <code>EntityFactory</code> of the target configuration will be used.</p>
</div>
<div class="paragraph">
<p>If there is an <code>EntityFactory</code> attribute set on the association, that factory will be used when creating a new associated entity instance.
The <code>createNew()</code> factory method will get called with the parent entity (for whom an associated item is being created) as single parameter.</p>
</div>
</div>
<div class="sect2">
<h3 id="_entitylinkbuilder"><a class="anchor" href="#_entitylinkbuilder"></a>6.5. EntityLinkBuilder</h3>
<div class="paragraph">
<p>An <code>EntityConfiguration</code> or <code>EntityAssociation</code> can have one or more <code>EntityLinkBuilder</code> instances registered in its attributes.
An <code>EntityLinkBuilder</code> is used to create application links to management controllers for the entity.
By default the <code>EntityModule</code> will create an <code>EntityLinkBuilder</code> for the management pages in admin web if <code>AdminWebModule</code> is present, and this link builder will be registered as the attribute with <code>EntityLinkBuilder</code> class as key.</p>
</div>
<div class="paragraph">
<p>You can use the <code>EntityLinkBuilder</code> directly for example in redirects, often the specific <code>EntityLinkBuilder</code> is overridable per view.
All links the <code>EntityLinkBuilder</code> generates are entirely configurable, please refer to the javadoc for all possible settings.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">EntityLinkBuilder linkBuilder = entityConfiguration.getAttribute( EntityLinkBuilder.class );

// Will create a link of the form "/entities/{parent}/{parentId}/update"
String path = linkBuilder.update( parent );</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_entitylinkbuilder_for_associations"><a class="anchor" href="#_entitylinkbuilder_for_associations"></a>6.5.1. EntityLinkBuilder for associations</h4>
<div class="paragraph">
<p>Associations usually also have an <code>EntityLinkBuilder</code> registered, it is possible to create links to items that are an association from a parent entity.
To achieve this you must <em>scope</em> the <code>EntityLinkBuilder</code> to the parent entity it belongs to.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">EntityLinkBuilder linkBuilder = entityConfiguration.getAttribute( EntityLinkBuilder.class );

EntityConfiguration associated = association.getTargetEntityConfiguration();
EntityLinkBuilder associatedLinkBuilder = association.getAttribute( EntityLinkBuilder.class )
                                                     .asAssociationFor( linkBuilder, parent );

// Will create a link of the form "/entities/{parent}/{parentId}/associations/{associationName}/{childId}/update"
String path = associatedLinkBuilder.update( child );</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="entity-views"><a class="anchor" href="#entity-views"></a>7. Entity views</h2>
<div class="sectionbody">
<div class="paragraph">
<p>EntityModule has the ability to generate automatic views for entities.
When AdminWebModule is present, automatic CRUD pages for entities will be generated using these views.</p>
</div>
<div class="paragraph">
<p>A view is an abstraction of web controller that allows you to take advantage of the EntityModule configuration system.
Usually views are a rendering of one or more entities of a particular entity type.</p>
</div>
<div class="paragraph">
<p>Both <code>EntityConfiguration</code> and <code>EntityAssociation</code> can have their own views defined.
They do so by implementing the <code>EntityViewRegistry</code> interface.
Every view has a unique name within an <code>EntityViewRegistry</code>.</p>
</div>
<div class="sect2">
<h3 id="_default_views"><a class="anchor" href="#_default_views"></a>7.1. Default views</h3>
<div class="paragraph">
<p>By default CRUD views will be created for every <code>EntityConfiguration with a `CrudRepository</code> or an <code>EntityQueryExecutor</code> registered.
Likewise CRUD views will be created for every <code>EntityAssociation</code> with an <code>AssociatedEntityQueryExecutor</code> attribute.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Query executor attributes should be registered automatically in most cases.
So you usually don&#8217;t need to worry about those.
See the <a href="#entity-query-executor">chapter on <code>EntityQueryExecutor</code></a> for more information.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following default views will be created for an entity type:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">View name</th>
<th class="tableblock halign-left valign-top">View type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">listView
(<code>EntityView.LIST_VIEW_NAME</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows the list of entities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">createView
(<code>EntityView.CREATE_VIEW_NAME</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">form view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders and executes the form for creating a new entity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">updateView
(<code>EntityView.UPDATE_VIEW_NAME</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">form view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders and executes the form for updating an entity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deleteView
(<code>EntityView.DELETE_VIEW_NAME</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">form view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows the confirmation page and performs the delete if allowed.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The default views all render markup using the <code>ViewElement</code> infrastructure and the implementations provided by the BootstrapUiModule.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_entity_views_work"><a class="anchor" href="#_how_entity_views_work"></a>7.2. How entity views work</h3>
<div class="paragraph">
<p>An <code>EntityView</code> is created by an <code>EntityViewFactory</code> based on an <code>EntityViewRequest</code>.
A controller is still responsible for executing (usually rendering) the actual <code>EntityView</code>.</p>
</div>
<div class="paragraph">
<p>The <code>GenericEntityViewController</code> is responsible for loading and rendering all default views in the AdminWebModule UI.</p>
</div>
<div class="paragraph">
<p>The path of the web request to <code>GenericEntityViewController</code> will determine:
* the name of the view that should be rendered
* which <code>EntityViewRegistry</code> will be used for loading the view (<code>EntityConfiguration</code> or <code>EntityAssociation</code>)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can force the view being rendered by simply providing the view name as a request parameter with key <strong>view</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The controller creates an <code>EntityViewRequest</code>, retrieves the <code>EntityViewFactory</code> and builds the corresponding <code>EntityViewContext</code> and <code>EntityViewCommand</code>.</p>
</div>
<div class="sect3">
<h4 id="_entityviewrequest"><a class="anchor" href="#_entityviewrequest"></a>7.2.1. EntityViewRequest</h4>
<div class="paragraph">
<p>Wraps together all the information of a specific entity view request:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the web request that is creating the view</p>
</li>
<li>
<p>the contextual information of the entity being viewed (represented by the <code>EntityViewContext</code>)</p>
</li>
<li>
<p>the command that should be executed on the <code>EntityViewFactory</code> (represented by the <code>EntityViewCommand</code>)</p>
</li>
<li>
<p>the name of the view being requested and the <code>EntityViewFactory</code> being used</p>
</li>
<li>
<p>the <code>PageContentStructure</code> of the page being rendered (if applicable)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please refer to the <a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/request/EntityViewRequest.html/"><code>EntityViewRequest</code> javadoc</a> for a description of all available properties.</p>
</div>
</div>
<div class="sect3">
<h4 id="_entityviewcontext"><a class="anchor" href="#_entityviewcontext"></a>7.2.2. EntityViewContext</h4>
<div class="paragraph">
<p>The <code>EntityViewContext</code> contains contextual information and provides access to components that should be used for building a view.
Contextual information is for example the entity type, specific entity or entity association being viewed.
Components are things like the <code>EntityLinkBuilder</code>, <code>EntityMessages</code> or <code>AllowableActions</code></p>
</div>
<div class="paragraph">
<p>Please refer to the <a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/context/EntityViewContext.html/"><code>EntityViewContext</code> javadoc</a> for a description of all available properties.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>EntityViewContext</code> is available as a request-scoped bean but only in case of a request passing through the <code>GenericEntityViewController</code> will the data be loaded.
Loading the <code>EntityViewContext</code> attributes manually  can be done by using the <code>EntityViewContextLoader</code> bean.
You should use the <code>ConfigurableEntityViewContext</code> interface to modify a view context.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_entityviewcommand"><a class="anchor" href="#_entityviewcommand"></a>7.2.3. EntityViewCommand</h4>
<div class="paragraph">
<p>The <code>EntityViewCommand</code> represents the command that should be executed on the <code>EntityViewFactory</code> to create the corresponding <code>EntityView</code>.
Most often the command represents the form of a view where the request parameters are bound to.</p>
</div>
<div class="paragraph">
<p>An <code>EntityViewCommand</code> has 2 attributes: the (optional) entity DTO being bound and a map of named extensions.
Customizing view processing can be done by registering additional extensions that will be rendered and validated upon binding.</p>
</div>
<div class="paragraph">
<p>The <code>EntityViewCommand</code> will be validated for every state modifying request: web requests using POST, PUT, PATCH or DELETE.</p>
</div>
<div class="paragraph">
<p>Please refer to the <a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/request/EntityViewCommand.html/"><code>EntityViewCommand</code> javadoc</a> for a description of all available properties.</p>
</div>
</div>
<div class="sect3">
<h4 id="_entityviewfactory"><a class="anchor" href="#_entityviewfactory"></a>7.2.4. EntityViewFactory</h4>
<div class="paragraph">
<p>Every view is built by an <code>EntityViewFactory</code>.
An <code>EntityViewRegistry</code> (like <code>EntityConfiguration</code> or <code>EntiyAssociation</code>) is nothing but a map of <code>EntityViewFactory</code> by view name.</p>
</div>
<div class="paragraph">
<p>An <code>EntityViewFactory</code> is a stateless controller with 4 controller methods that are expected to be called in a specific order.
Please refer to the <a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/EntityViewFactory.html">javadoc</a> for an overview of the different controller methods and their purpose.</p>
</div>
<div class="sect4">
<h5 id="_dispatchingentityviewfactory_and_entityviewprocessor"><a class="anchor" href="#_dispatchingentityviewfactory_and_entityviewprocessor"></a>DispatchingEntityViewFactory and EntityViewProcessor</h5>
<div class="paragraph">
<p>EntityModule has only a single implementation of <code>EntityViewFactory</code> in the form of the <code>DefaultEntityViewFactory</code>.
The <code>DefaultEntityViewFactory</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>supports <code>ViewElement</code> based rendering model - heavily used by EntityModule for building the HTML markup</p>
</li>
<li>
<p>dispatches its controller methods in a more fine-grained manner to a list of registered and ordered <code>EntityViewProcessor</code> instances.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The default builders when <a href="#configuring-views">configuring views</a> only register <code>EntityViewProcessor</code> beans on the factory.
When an <code>EntityViewFactory</code> controller method is being called, it will be translated into one or more processor methods and those method calls will be dispatched to all processors in order.</p>
</div>
<div class="paragraph">
<p>Two adapter <code>EntityViewProcessor</code> classes are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>use <code>EntityViewProcessorAdapter</code> for most use cases, it provides several adapter methods that also allow you to hook into the <code>ViewElement</code> generation lifecycle</p>
</li>
<li>
<p>use <code>SimpleEntityViewProcessorAdapter</code> if you do not need to hook into the <code>ViewElement</code> generation lifecycle</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The <code>DefaultEntityViewFactory</code> will not execute any of the rendering related methods if any of the previous methods has marked the <code>EntityView</code> as being a redirect.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Please refer to the <a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/EntityViewProcessor.html">EntityViewProcessor</a>, <a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/EntityViewProcessorAdapter.html">EntityViewProcessorAdapter</a> and <a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/SimpleEntityViewProcessorAdapter.html">SimpleEntityViewProcessorAdapter</a> for more details on the available processor methods.
The appendix also provides a <a href="#appendix-view-processors">list of all available general purpose processors</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="transaction-support"><a class="anchor" href="#transaction-support"></a>Transaction support</h5>
<div class="paragraph">
<p>The <code>DefaultEntityViewFactory</code> uses a <code>TransactionalEntityViewProcessorRegistry</code> and enables transactions on all state modifying HTTP methods: <strong>POST</strong>, <strong>PUT</strong>, <strong>PATCH</strong> or <strong>DELETE</strong>.
If a transaction manager bean name is available on the <code>EntityConfiguration</code>, transactions will be enabled by default for all form views: create, update, delete and custom form views.
This means that all calls in state modifying <code>doControl()</code> methods of all <code>EntityViewProcessor</code> instances will happen in a single transaction.</p>
</div>
<div class="paragraph">
<p>The transaction manager bean name is registered as an attribute <code>EntityAttributes.TRANSACTION_MANAGER_NAME</code> and is detected automatically for every Spring Data repository based entity.</p>
</div>
<div class="paragraph">
<div class="title">Manually enabling transactions on a view</div>
<p>You can enable transactions manually on the <code>EntityViewFactoryBuilder</code> by specifying either the <code>PlatformTransactionManager</code> to use, the name of the transaction manager bean or a <code>TransactionTemplate</code> if you need more fine-grained control.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_model_attributes"><a class="anchor" href="#_model_attributes"></a>7.2.5. Model attributes</h4>
<div class="paragraph">
<p>The <code>GenericEntityViewController</code> exposes the following model attributes to the Spring MVC view:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>entityViewRequest</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityViewRequest</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>entityViewCommand</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityViewCommand</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>entityViewContext</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityViewContext</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_default_view_types"><a class="anchor" href="#_default_view_types"></a>7.3. Default view types</h3>
<div class="paragraph">
<p>EntityModule supports 3 view types by default.</p>
</div>
<div class="paragraph">
<p>When defining a new view (see the next section) it will be one of these types.
The view type determines the base template that will be used to setup the <code>EntityViewFactory</code>.</p>
</div>
<div class="paragraph">
<p>The following view types are defined:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">View type</th>
<th class="tableblock halign-left valign-top">Template name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">list view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">listView
(<code>EntityView.LIST_VIEW_NAME</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base configuration for rendering a list of entities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">form view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">updateView
(<code>EntityView.UPDATE_VIEW_NAME</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base configuration for rendering a form for a single entity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">generic view</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">genericView
(<code>EntityView.GENERIC_VIEW_NAME</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Barebone configuration for visualizing a single entity.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The template name can be used to replace the initializer for the <code>EntityViewFactoryBuilder</code>.
See the chapter on the <a href="#view-builder-initializer">EntityViewFactoryBuilderInitializer</a>.</p>
</div>
<div class="paragraph">
<p>See also the next chapters for more information on <a href="#list-view">list view</a>, <a href="#form-view">form view</a> and <a href="#generic-view">generic view</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-views"><a class="anchor" href="#configuring-views"></a>7.4. Configuring views</h3>
<div class="paragraph">
<p>Existing views can be modified or new ones registered using an <code>EntityViewFactoryBuilder</code> or <code>EntityListViewFactoryBuilder</code>.
You usually don&#8217;t create these manually but get a builder for the corresponding view from the configuration or association builder.</p>
</div>
<div class="paragraph">
<p>The builders provide common properties that will configure one or more <code>EntityViewProcessor</code> instances on the view factory.
They also allow you to modify the processor collection directly by adding or removing processors, or by post-processing the entire <code>EntityViewProcessorRegistry</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example adding an EntityViewProcessor to the default list view</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">configuration.withType( MyEntity.class )
             .listView( lvb -&gt; lvb.viewProcessor( myProcessor ) );</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following chapters provide some more details on how to configure the default view types.</p>
</div>
</div>
<div class="sect2">
<h3 id="list-view"><a class="anchor" href="#list-view"></a>7.5. List view</h3>
<div class="paragraph">
<p>default settings of a list view:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>user must have read allowable action</p>
</li>
<li>
<p>renders values as LIST_VALUE</p>
</li>
<li>
<p>shows all readable properties</p>
</li>
<li>
<p>adds update/delete buttons for every item if the user as update and delete action respectively</p>
</li>
<li>
<p>supports paging and sorting</p>
</li>
<li>
<p>allows configuring sortable properties and the default sort</p>
</li>
<li>
<p>includes a form at the top that can be used for adding filters</p>
</li>
<li>
<p>a create button for the entity if the user has create action allowed</p>
</li>
<li>
<p>supports global feedback messages set with the <code>EntityViewPageHelper</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>default processors</p>
</div>
<div class="sect3">
<h4 id="_adding_a_list_view"><a class="anchor" href="#_adding_a_list_view"></a>7.5.1. Adding a list view</h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect3">
<h4 id="_customizing_a_list_view"><a class="anchor" href="#_customizing_a_list_view"></a>7.5.2. Customizing a list view</h4>
<div class="paragraph">
<p>TODO</p>
</div>
<div class="paragraph">
<div class="title">Custom sorting</div>
<p>Customizing the sort behaviour of a specific property can be done by setting a <code>Sort.Order.class</code> attribute on the <code>EntityPropertyDescriptor</code>.
You can use this to sort on a different property instead, or to specify behaviour for null handling and case sensitivity.</p>
</div>
</div>
<div class="sect3">
<h4 id="list-view-filter"><a class="anchor" href="#list-view-filter"></a>7.5.3. Filtering a list view</h4>
<div class="paragraph">
<p>By default a list view is not filtered.
If your entity has an <a href="#entity-query-executor"><code>EntityQueryExecutor</code></a> available you can easily activate a simple yet powerful <a href="#entity-query-language">EQL-based filter</a>.
Activating <code>EntityQuery</code> based filtering can be done through the builders:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// Activate the EQL-based filter on every entity that has an EntityQueryExecutor
configuration.matching( c -&gt; c.hasAttribute( EntityQueryExecutor.class ) )
             .listView( lvb -&gt; lvb.entityQueryFilter( true ) );</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="#entity-list-view-custom-filter">this chapter</a> for information on how to configure a custom filter for a list view.</p>
</div>
</div>
<div class="sect3">
<h4 id="entity-list-view-custom-filter"><a class="anchor" href="#entity-list-view-custom-filter"></a>7.5.4. Adding a custom filter to a list view</h4>
<div class="paragraph">
<p>A filter on a list view usually consists of 2 parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an <code>EntityViewProcessor</code> that provides the filtering options on the list view</p>
</li>
<li>
<p>an <code>EntityViewProcessor</code> that fetches the items using the filtering options</p>
<div class="ulist">
<ul>
<li>
<p>a custom form is usually added to the <code>EntityViewCommand.addExtension()</code> for both postback and optional validation</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both parts can easily be combined in a single <code>EntityViewProcessor</code>.</p>
</div>
<div class="paragraph">
<p><strong>Custom filter example</strong></p>
</div>
<div class="paragraph">
<p>The following code illustrates adding a simple filter to a view.
The filter uses a separate repository method to lookup entities by name.
The filter options are added as a form on top of the list view, the form in this case rendered via a custom Thymeleaf template.</p>
</div>
<div class="listingblock">
<div class="title">Implementation of a single class that holds all filter logic</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">private static class GroupFilteringProcessor extends EntityViewProcessorAdapter
{
	@Autowired
	private GroupRepository groupRepository;

	@Override
    public void initializeCommandObject( EntityViewRequest entityViewRequest,
                                         EntityViewCommand command,
                                         WebDataBinder dataBinder ) {
        command.addExtension( "filter", "" );
    }

    @Override
    protected void doControl( EntityViewRequest entityViewRequest,
                              EntityView entityView,
                              EntityViewCommand command,
                              BindingResult bindingResult,
                              HttpMethod httpMethod ) {
        String filter = command.getExtension( "filter", String.class );
        Pageable pageable = command.getExtension( PageableExtensionViewProcessor.DEFAULT_EXTENSION_NAME, Pageable.class );

        if ( !StringUtils.isBlank( filter ) ) {
            entityView.addAttribute( "items", groupRepository.findByNameContaining( filter, pageable ) );
        }
        else {
            entityView.addAttribute( "items", groupRepository.findAll( pageable ) );
        }
    }

    @Override
    protected void postRender( EntityViewRequest entityViewRequest,
                               EntityView entityView,
                               ContainerViewElement container,
                               ViewElementBuilderContext builderContext ) {
        Optional&lt;ContainerViewElement&gt; header = find( container, "entityListForm-header", ContainerViewElement.class );
        header.ifPresent(
                h -&gt; {
                    Optional&lt;NodeViewElement&gt; actions
                            = find( h, "entityListForm-header-actions", NodeViewElement.class );
                    actions.ifPresent( a -&gt; a.addCssClass( "pull-right" ) );

                    h.addChild( new TemplateViewElement( "th/entityModuleTest/filters :: filterForm" ) );
                }
        );
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Custom Thymeleaf template that builds the form</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;fragments xmlns:th="http://www.w3.org/1999/xhtml"&gt;
    &lt;div class="list-header form form-inline" th:fragment="filterForm"&gt;
        &lt;div class="form-group"&gt;
            &lt;label for="group-name-filter"&gt;Filter by name:&lt;/label&gt;
            &lt;input id="group-name-filter" name="extensions[filter]" th:value="${entityViewCommand.extensions['filter']}" type="text" class="form-control" /&gt;
        &lt;/div&gt;
        &lt;input type="submit" class="btn btn-default" value="Apply filter" /&gt;
    &lt;/div&gt;
&lt;/fragments&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Registration of the custom filter on the list view</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">entities.withType( Group.class )
        .listView( lvb -&gt; lvb
            .entityQueryFilter( false )           // optional - disable the previously activated entity query filter
            .filter( groupFilteringProcessor() )  // register the custom filter
		);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_list_summary_view"><a class="anchor" href="#_list_summary_view"></a>7.5.5. List summary view</h4>
<div class="paragraph">
<p>It is possible to activate a detail view inline in a list view.
If the <code>EntityConfiguration</code> or <code>EntityAssociation</code> has a view named <strong>listSummaryView</strong> a summary pane will automatically become available when clicking on the item row in the table.
The summary pane is called using AJAX and only the <em>content</em> fragment of the page will be rendered.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// Activate a summary view in the main user results table using a custom Thymeleaf template
configuration.withType( User.class )
             .view( EntityView.SUMMARY_VIEW_NAME, vb -&gt; vb.template( "th/myModule/userSummary" ) );</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="form-view"><a class="anchor" href="#form-view"></a>7.6. Form view</h3>
<div class="sect3">
<h4 id="_create_and_update_view"><a class="anchor" href="#_create_and_update_view"></a>7.6.1. create and update view</h4>
<div class="paragraph">
<p>default settings of a form view:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>user must have update allowable action</p>
</li>
<li>
<p>renders values as LIST_VALUE</p>
</li>
<li>
<p>shows all readable properties</p>
</li>
<li>
<p>adds update/delete buttons for every item if the user as update and delete action respectively</p>
</li>
<li>
<p>supports paging and sorting</p>
</li>
<li>
<p>allows configuring sortable properties and the default sort</p>
</li>
<li>
<p>includes a form at the top that can be used for adding filters</p>
</li>
<li>
<p>a create button for the entity if the user has create action allowed</p>
</li>
<li>
<p>supports global feedback messages set with the <code>EntityViewPageHelper</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>default processors</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_delete_view"><a class="anchor" href="#_delete_view"></a>7.7. Delete view</h3>
<div class="paragraph">
<p>default settings</p>
</div>
<div class="paragraph">
<p>default processors</p>
</div>
<div class="paragraph">
<p>A delete action will be available for all entities where <code>AllowableAction.DELETE</code> is present, this is the default unless more explicit permissions are configured.
A delete will always redirect to a confirmation page by default.
Because the possibility to delete an entity often depends on other factors (usually associations), the default <code>EntityDeleteViewFactory</code> publishes an event that allows customizing said confirmation page.</p>
</div>
<div class="paragraph">
<p>By catching the <code>BuildEntityDeleteViewEvent</code> your code can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>suppress the ability to delete (by hiding the delete button)</p>
</li>
<li>
<p>add associations to the form</p>
</li>
<li>
<p>add custom feedback messages to the form (and optionally remove the associations block)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This should be sufficient for most use cases without having to revert to custom <code>EntityViewProcessor</code> implementations.
Of course the latter would work as well.</p>
</div>
<div class="paragraph">
<div class="title">Entity associations</div>
<p>The initial <code>BuildEntityDeleteViewEvent</code> is configured based on the <code>EntityAssociation</code> list of the entity.
If associated items are detected, they influence the form settings depending on the <strong>parentDeleteMode</strong> property of the <code>EntityAssociation</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ParentDeleteMode.IGNORE</code>: item information is not printed nor influences the ability to delete</p>
</li>
<li>
<p><code>ParentDeleteMode.WARN</code>: item information is printed on the form but does not influence the ability to delete</p>
</li>
<li>
<p><code>ParentDeleteMode.SUPPRESS</code>: item information is printed on the form and disables the ability to delete, this is the default setting</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The event is published after the initial association information has been set.</p>
</div>
<div class="paragraph">
<div class="title">Performing the delete</div>
<p>The EntityModule simply calls the delete method of the <code>EntityModel</code>, usually a direct call to a repository <code>delete()</code>.
You will have to take care yourself of complex delete scenarios - like deleting the associations - by either modifying the <code>EntityModel</code> or using another mechanism like the <code>EntityInterceptor</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_an_additional_form_view"><a class="anchor" href="#_creating_an_additional_form_view"></a>7.8. creating an additional form view</h3>

</div>
<div class="sect2">
<h3 id="generic-view"><a class="anchor" href="#generic-view"></a>7.9. custom views</h3>

</div>
<div class="sect2">
<h3 id="_adminwebmodule_jquery_plugins"><a class="anchor" href="#_adminwebmodule_jquery_plugins"></a>7.10. AdminWebModule JQuery plugins</h3>
<div class="paragraph">
<p>The default EntityModule web resources add some JQuery based javascript plugins.</p>
</div>
<div class="sect3">
<h4 id="_entitymodule_object"><a class="anchor" href="#_entitymodule_object"></a>7.10.1. EntityModule object</h4>
<div class="paragraph">
<p>All EntityModule and BootstrapUiModule javascript can be initialized by calling <code>EntityModule.initializeFormElements()</code>.
This method optionally takes an argument that is the node in which the form elements should be initialized.</p>
</div>
<div class="paragraph">
<p>This is automatically done on document load, but when using AJAX fragment rendering, you usually want to re-initialize the DOM element that was updated.</p>
</div>
<div class="paragraph">
<div class="title">Custom initializers</div>
<p>You can easily add a custom initializer function by adding it with <code>EntityModule.registerInitializer( callback )</code>.
There is no need to manually execute your callback on document load, as that will happen automatically by the EntityModule.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Don&#8217;t execute your callback on document load and then add it to the initializers.
Execution will happen automatically when calling <code>registerInitializer()</code>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example registering a custom initializer that configures a sortable table to use AJAX loading</div>
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">EntityModule.registerInitializer( function( node ) {
    $( '[data-tbl-type="paged"]', node )
        .on( "emSortableTable:prepareData", function( e, params ) {
            console.log( "enhancing the data", params );
            params['_partial'] = 'content';
        } )
        .on( "emSortableTable:loadData", function( e, params ) {
            console.log( "performing ajax load" );
            e.preventDefault();

            $.get( '#', $.param( params, true ), function( data ) {
                   $( '.pcs' ).replaceWith( data );
                   // initialize the form elements in the element just updated
                   EntityModule.initializeFormElements( $('.pcs') );
               }
            );
        } )
} );</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_sortable_tables"><a class="anchor" href="#_sortable_tables"></a>7.10.2. Sortable tables</h4>
<div class="paragraph">
<p>The default list views support paging and sorting of the pages, where client-side code is used to trigger reloading of the page.</p>
</div>
<div class="paragraph">
<p>Every table matching the selector <strong>[data-tbl-type="paged"]</strong> will be initialized for sorting and paging.
A sortable table considers 3 default parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>page</em>: page number</p>
</li>
<li>
<p><em>size</em>: number of results a single page should have</p>
</li>
<li>
<p><em>sort</em>: array of sort strings: <em>field,direction</em> (eg. <em>name,ASC</em>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a table is bound to a form (specified by the <em>data-tbl-form</em> attribute), paging or sorting will result in that form being submitted with the parameters being added as hidden form elements.
If no form is bound, the current URL will be reloaded and the parameters added to the query string.</p>
</div>
<div class="paragraph">
<div class="title">Customizing behaviour</div>
<p>You can hook into the default behaviour by using the events a sortable table emits or listens to.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11%;">
<col style="width: 44%;">
<col style="width: 44%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Event</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Argument</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">emSortableTable:moveToPage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger this event if you want to reload the data for a specific page.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Page number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">emSortableTable:sort</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger this event if you want to reload the data with different sorting.
If the data is already sorted on the field specified, the sort order will be reversed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the field to sort on.
Usually value of the <em>data-tbl-field</em> attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">emSortableTable:prepareData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Called after determining page number, result size and fields to sort on.
Subscribe to this event if you want to expand or modify the parameters that should be submitted.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter map containing: <em>page</em>,<em>size</em> and <em>sort</em> keys.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">emSortableTable:loadData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Called after the parameters for the data have been prepared.
Subscribe to this event if you want to provide a custom method of fetching the data (eg AJAX based).
Note that you have to prevent the default execution if you provide your own mechanism.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameters that should be used for fetching the data.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Manually creating sortable tables</div>
<p>If you want to manually initialize a sortable table you can directly call the JQuery plugin <strong>emSortableTable()</strong> on any element.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can easily create the valid structure for a sortable table using the <code>EntityViewElementBuilderHelper</code>.
This allows you to create a <code>SortableTableBuilder</code> that builds a <code>ViewElement</code> that renders the right markup including all data attributes.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A valid sortable table requires several data attributes to be present on the DOM element:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique id of the data table.
 Also used on column headings and pager control elements to specify the table they belong to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl-form</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Name of the form that should be submitted when reloading the table data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl-total-pages</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of pages in the result set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl-size</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single page size.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl-current-page</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current page number (0 based).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl-sort</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Current sort value.
This is a JSON object structure containing the actual sort fields and their order.
Depending on the the presence of custom <code>Sort.Order.class</code> attributes on the <code>EntityPropertyDescriptor</code> these field names will be the same as the property names.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl-field</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only used on heading cells that should be sortable.
Specifies the field this column represents.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl-sort-property</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only used on heading cells that should be sortable.
Contains the actual property name that is being sorted on.
Usually the same as the field name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl-page-selector</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used on a pager text field that contains the page number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data-tbl-page</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used on any element that should navigate to a page on a click event.
Contains the value of the page that should be navigated to.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_customizing_generated_entity_views"><a class="anchor" href="#_customizing_generated_entity_views"></a>8. Customizing generated Entity views</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following section gives an overview of common customizations for generated entity views.</p>
</div>
<div id="view-builder-initializer" class="paragraph">
<p>DOCUMENTATION TODO: customize view builder initializer</p>
</div>
<div class="sect2">
<h3 id="_changing_entity_names_property_names_or_other_labels"><a class="anchor" href="#_changing_entity_names_property_names_or_other_labels"></a>8.1. Changing entity names, property names or other labels</h3>
<div class="paragraph">
<p>All entity names, property names and labels can be customized using message sources.
For an explanation of the different message codes used, see <a href="#appendix-message-codes">the relevant appendix</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="customize-page-layout"><a class="anchor" href="#customize-page-layout"></a>8.2. Setting page title or changing page layout</h3>
<div class="paragraph">
<p>Setting a page title can be done by adding the corresponding message code.
All default views automatically add a page title (optionally with sub text) if the corresponding message code resolves a non-empty string.</p>
</div>
<div class="paragraph">
<p>See the <a href="#appendix-message-codes">message codes appendix</a> for a list of relevant message codes.</p>
</div>
<div class="paragraph">
<div class="title">Changing the page layout</div>
<p>Entity views use a <code>PageContentStructure</code> for the base structure of the web page.
The <code>PageContentStructure</code> is available as a request scoped bean, but can also be retrieved from the <code>EntityViewRequest</code>.</p>
</div>
<div class="paragraph">
<p>See the <a href="http://across.foreach.be/docs/across-standard-modules/AdminWebModule/2.0.0.RELEASE/reference/#page-content-structure">AdminWebModule reference documentation</a> for a basic explanation of <code>PageContentStructure</code>.</p>
</div>
<div class="paragraph">
<div class="title">Modifying the page layout for all (or a selection of) views</div>
<p>If you want to modify page layout for multiple views at runtime, you can subscribe to the <a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/support/EntityPageStructureRenderedEvent.html"><code>EntityPageStructureRenderedEvent</code></a>.
This event is published during the <code>postRender()</code> phase and gives you context of the view that is being rendered, allowing you to make changes outside regular <code>EntityViewProcessor</code> implementations.</p>
</div>
<div class="paragraph">
<p><code>SingleEntityPageStructureViewProcessor</code> and <code>ListPageStructureViewProcessor</code> are the <a href="#appendix-view-processors">view processors</a> responsible for building the basic page structure and publishing the event.</p>
</div>
</div>
<div class="sect2">
<h3 id="_specifying_a_custom_template"><a class="anchor" href="#_specifying_a_custom_template"></a>8.3. Specifying a custom template</h3>
<div class="paragraph">
<p>Every default view uses a specific (Thymeleaf) template that renders the <code>ViewElement</code> list created by the view.
If you want control over the rendering through a separate template you can specify a different template using the <code>template()</code> method on the <code>EntityViewFactoryBuilder</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_entityviewprocessor"><a class="anchor" href="#_entityviewprocessor"></a>8.4. EntityViewProcessor</h3>
<div class="paragraph">
<p>Modifying a default view can be done by registering an <code>EntityViewProcessor</code> for that view.
This API allows you to modify the <code>ViewElement</code> collection that should be generated.
This is a useful hook to add for example custom form elements that you wish to add and process.
If can also be used to reorganize the layout of the form from backend code using the <code>ContainerViewElementUtils</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_a_custom_entityviewfactory"><a class="anchor" href="#_using_a_custom_entityviewfactory"></a>8.5. Using a custom EntityViewFactory</h3>
<div class="paragraph">
<p>Full control can be done by registering a custom <code>EntityViewFactory</code> implementation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_selecting_properties"><a class="anchor" href="#_selecting_properties"></a>8.6. Selecting properties</h3>
<div class="paragraph">
<p><code>EntityPropertySelector</code>, incremental builders, keep current, select all, select all without default filter, exclude</p>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_property_view_types"><a class="anchor" href="#_configuring_property_view_types"></a>8.7. Configuring property view types</h3>
<div class="paragraph">
<p>You can configure a property using the <code>EntityPropertyDescriptorBuilder</code>.
This builder also contains some methods to influence the <code>ViewElement</code> that should be built for that property for a given mode.</p>
</div>
<div class="paragraph">
<p>By default a <code>ViewElement</code> will be built based on the property and some of its annotations.
There are 3 ways you can influence the default behaviour:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>specify a custom <code>viewElementType()</code> for a given mode</p>
<div class="ulist">
<ul>
<li>
<p>a default builder of that type will be created for that mode</p>
</li>
</ul>
</div>
</li>
<li>
<p>specify one or more <code>viewElementPostProcessor()</code> for a given mode</p>
<div class="ulist">
<ul>
<li>
<p>these <code>ViewElementPostProcessor</code> instances will be added to the default builder, in the order they were registered</p>
</li>
</ul>
</div>
</li>
<li>
<p>specify a custom  <code>viewElementBuilder()</code> for a given mode</p>
<div class="ulist">
<ul>
<li>
<p>the default building will be ignored and only your custom builder will be used</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_fieldset_properties"><a class="anchor" href="#_fieldset_properties"></a>8.8. Fieldset properties</h3>
<div class="paragraph">
<p>A fieldset is a visual grouping of other properties, inside a block that has a title (legend) and optional description.
Fieldsets are rendered as a <code>FieldsetFormElement</code>.
You can postprocess a group of <code>ViewElement</code> instances and move them manually to a <code>FieldsetFormElement</code>, or you can set a fieldset as the <code>ViewElementMode</code> for a property.</p>
</div>
<div class="paragraph">
<p>In the latter, because a fieldset is a collection of other properties, you will need to specify which properties make up the fieldset.
Specifying the properties of fieldset is done by setting the <code>EntityAttributes.FIELDSET_PROPERTY_SELECTOR</code> to a valid <code>EntityPropertySelector</code>.</p>
</div>
<div class="paragraph">
<p>The following is an example of manually adding a fieldset property to a form, and moving some properties to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">entities.withType( WebPage.class )
        .createOrUpdateFormView( fvb -&gt; fvb
                /**
                 * First create a new property that is a fieldset
                 * of the existing url and urlGenerated properties.
                 * We add this property only to the scope of the
                 * create or update form view.
                 */
                .properties( props -&gt; props
                        .property( "url-settings" )
                        .displayName( "URL settings" )
                        .viewElementType( ViewElementMode.FORM_WRITE, BootstrapUiElements.FIELDSET )
                        .attribute(
                                EntityAttributes.FIELDSET_PROPERTY_SELECTOR,
                                EntityPropertySelector.of( "url", "urlGenerated" )
                        )
                )
                /**
                 * Because url and urlGenerated are direct members
                 * of WebPage, we need to ensure they are not rendered
                 * directly anymore, so we remove them from the form view.
                 * The new url-settings property will be selected by default
                 * and in turn will render the url and urlGenerated properties.
                 *
                 * If we were to configure the url-settings property as hidden,
                 * we would have to explicitly include it in the form view as well.
                 * That would probably be a preferred approach if we have defined
                 * url-settings in the global property registry for WebPage.
                 */
                .showProperties( "*", "~url", "~urlGenerated" )
        )</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Properties mapped to an <code>@Embedded</code> type will automatically be mapped as a fieldset type.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_entity_validation"><a class="anchor" href="#_customizing_entity_validation"></a>8.9. Customizing entity validation</h3>
<div class="paragraph">
<p>By default annotation validation is performed on all entities.
Customizing validation can be done by simply specifying a <code>Validator</code> bean that supports the specific entity type.
You can use the <code>EntityValidatorSupport</code> as a base class to extend the default annotation based entity validation.</p>
</div>
<div class="paragraph">
<p>If more than one <code>Validator</code> could be applied, you will manually have to set the <code>Validator.class</code> attribute on the <code>EntityConfiguration</code> to the correct one.</p>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_strong_value_strong_mode_elements"><a class="anchor" href="#_customizing_strong_value_strong_mode_elements"></a>8.10. Customizing <strong>VALUE</strong> mode elements</h3>
<div class="paragraph">
<p>The <code>ViewElementMode.VALUE</code> and <code>ViewElementMode.LIST_VALUE</code> are the defaults to provide the output of a property for readonly views.
Unless a specific <code>ViewElement</code> is configured, this will always be a <code>String</code> output of the property.
By default the <strong>mvcConversionService</strong> will be used to convert the property value if no type specific builder is provided.</p>
</div>
<div class="paragraph">
<p>Apart from providing a custom <code>ViewElement</code> you can also modify the rendered output by providing attributes on the <code>EntityPropertyDescriptor</code>.
If you provide a <code>org.springframework.format.Printer.class</code> attribute, that implementation will be used for printing the text value.
Alternatively you can provide a <code>java.text.Format.class</code> attribute to be used.
Note that most default <code>Format</code> implementations are not thread-safe, in that case you should wrap them in a <code>SynchronizedFormat</code> instance.</p>
</div>
<div class="paragraph">
<p>All standard view elements will use the <code>Printer</code> or <code>Format</code> attribute if one of them is present, instead of the default.
A <code>Printer</code> attribute takes precedence over a <code>Format</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_textbox_elements"><a class="anchor" href="#_customizing_textbox_elements"></a>8.11. Customizing textbox elements</h3>
<div class="paragraph">
<p><code>TextboxFormElement.Type</code> can be set as an attribute on the <code>EntityPropertyDescriptor</code>.
If set and the property is generated as a <code>TextboxFormElement</code>, that type will be used.</p>
</div>
<div class="paragraph">
<p>You can add default post processors to the <code>TextboxFormElementBuilderFactory</code> to customize the autodetection.</p>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_numeric_elements"><a class="anchor" href="#_customizing_numeric_elements"></a>8.12. Customizing numeric elements</h3>
<div class="paragraph">
<p>By default all <code>Number</code> type properties will result in a <code>NumericFormElement</code> being used which is rendered as a textbox.
The behavior can be customized by providing a <code>NumericFormElementConfiguration</code>.
A default configuration will only be created for properties annotated with a Spring <code>@NumberFormat</code> for type <code>CURRENCY</code> or <code>PERCENT</code>, if no <code>NumericFormElementConfiguration.class</code> or <code>NumericFormElementConfiguration.Format.class</code> attribute is present.</p>
</div>
<div class="paragraph">
<p>If a <code>NumericFormElementConfiguration</code> is present a more advanced javascript control will be used in the front-end for value input.
The same configuration will also be used for rendering the <strong>VALUE</strong> mode elements, formatting the output according to the properties configured.</p>
</div>
<div class="paragraph">
<div class="title">Manually configuring percent</div>
<p>Put a format attribute with value <code>PERCENT</code> on the <code>EntityPropertyDescriptor</code>.
This will create a locale specific percentage format with 2 decimals (unless the property type is integer).
Alternatively use the static <code>NumericFormElementConfiguration.percent()</code> factory method to quickly create a localizable format suitable for percentages.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you use Spring number format for <code>PERCENT</code> then 1 is expected to match 100%.
If you manually create a <code>NumericFormElementConfiguration</code> it expects 100 to match with 100%.
You can modify this behavior by setting the <code>multiplier</code> property on the configuration.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Manually configuring currency</div>
<p>The easiest way to configure a currency is to set a <code>Currency.class</code> attribute for the property.
In that case a locale specific format for that currency will be created.
Alternatively the same options as for percentages can be used and there is a <code>NumericFormElementConfiguration.currency()</code> factory method available.</p>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_datetime_picker_elements"><a class="anchor" href="#_customizing_datetime_picker_elements"></a>8.13. Customizing datetime picker elements</h3>
<div class="paragraph">
<p>By default all <code>Date</code> properties will result in a <code>DateTimeFormElement</code> which is rendered as a date time picker.
The form element can be customized through the <code>DateTimeFormElementConfiguration</code> class.
The default configuration is determined based on the presence of <code>@Temporal</code> annotations on the property.
The date picker supports 3 major modes: <strong>date</strong>, <strong>time</strong> and <strong>timestamp</strong> (date + time) with minutes being the maximum resolution.
The presence of <code>@Past</code> and <code>@Future</code> validation annotations will additionally restrict the dates that are selectable.</p>
</div>
<div class="paragraph">
<p>A specific date picker format can easily be specified by putting a <code>DateTimeFormElementConfiguration.Format</code> attribute.
Advanced customization can be done by setting a complete <code>DateTimeFormElementConfiguration</code> as attribute.
Dynamic configuration (for example setting the first selectable date relative to the current date) can only be done by specifying a <code>DateTimeFormElementBuilder</code> manually and adding a custom post processor that modifies the <code>DateTimeFormElementConfiguration</code>.
A <code>DateTimeFormElementConfiguration</code> is always duplicated when creating an element so it is safe for post processors to modify the instance.</p>
</div>
<div class="paragraph">
<div class="title">Using dates with <code>TemporalType.TIME</code> and JPA</div>
<p>A property of type <code>java.util.Date</code> but annotated with <code>@Temporal(TemporalType.TIME)</code> will result in only time selection being available (hours and minutes).
However the <code>@Temporal</code> annotation also influences how JPA will persist the data type.
If your type was created as a timestamp in the database schema, this might result in conversion errors.
With Hibernate you can resolve this by additionally specifying a <code>@Type</code> annotation forcing the type to be persisted as timestamp.</p>
</div>
<div class="listingblock">
<div class="title">Example of a required time property that is written as a date relative to start of epoch time in the database</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@NotNull
@Column(name = "arrival_time")
@Temporal(TemporalType.TIME)
@Type( type = "timestamp")
private Date arrivalTime;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="customizing-selectable-options"><a class="anchor" href="#customizing-selectable-options"></a>8.14. Customizing selectable options</h3>
<div class="paragraph">
<p>Any entity or enum property will by default be rendered via an <code>OptionsFormElementBuilder</code> resulting in either a select box or list of checkboxes being rendered.</p>
</div>
<div class="paragraph">
<div class="title">Set the type of options control</div>
<p>You can customize the type of options control to be generated by setting the <em>viewElementType</em> for a property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">entities.withType( WebPage.class )
    .createOrUpdateFormView( fvb -&gt; fvb
        /**
         * Render the state as radio buttons instead of a select box.
         */
        .properties( props -&gt; props
            .property( "state" )
            .viewElementType( ViewElementMode.CONTROL, BootstrapUiElements.RADIO )
        )
    );</code></pre>
</div>
</div>
<div class="paragraph">
<p>If no <em>viewElementType</em> has been specified, a default type will be determined: a select box will be used in case of a single value, a checkbox list in case of multiple values.</p>
</div>
<div class="paragraph">
<div class="title">Advanced select box configuration</div>
<p>A select control being generated will be a <a href="https://silviomoreto.github.io/bootstrap-select/">bootstrap-select</a> with default configuration.
You can customize the select box configuration by manually setting a <code>SelectFormElementConfiguration</code> attributes.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://foreach.atlassian.net/wiki/display/AX/BootstrapUiModule">BootstrapUiModule documentation</a> for all configurable properties.</p>
</div>
<div class="paragraph">
<p>If no <em>viewElementType</em> has been specified, but a <code>SelectFormElementConfiguration</code> attribute is present, the resulting control will be a select box.</p>
</div>
<div class="paragraph">
<div class="title">Configuring options that can be selected</div>
<p>You can manipulate the options that can be selected in several ways by setting either <code>EntityConfiguration</code> or <code>EntityPropertyDescriptor</code> attributes.</p>
</div>
<div class="paragraph">
<p>If your property is another entity type, by default the selectable options will be all entities of that type.
If you want to change this for all properties of that type, you can set either an <code>OptionGenerator.class</code>, <code>OptionIterableBuilder.class</code> or <code>EntityAttributes.OPTIONS_ENTITY_QUERY</code> attribute on the target <code>EntityConfiguration</code>.
If you want to change it only for a single property, you can configure the same attributes on the <code>EntityPropertyDescriptor</code> of that property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">entities.withType( WebCmsArticle.class )
    .createOrUpdateFormView( fvb -&gt; fvb
        /**
         * Only allow published sections to be selectable,
         * by specifying an EQL statement to fetch them.
         */
        .properties( props -&gt; props
            .property( "section" )
            .attribute( EntityAttributes.OPTIONS_ENTITY_QUERY, "published = TRUE" )
        )
    );</code></pre>
</div>
</div>
<div class="paragraph">
<p>When dealing with an enum type, you can also configure the <code>EntityAttributes.OPTIONS_ALLOWED_VALUES</code> with the `EnumSet`of selectable options.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">/**
 * Limit the selectable enum HTTP status.
 */
entities.withType( WebCmsUrl.class )
    .properties(
        props -&gt; props
            .property( "httpStatus" )
            .attribute(
                EntityAttributes.OPTIONS_ALLOWED_VALUES,
                EnumSet.of( HttpStatus.OK, HttpStatus.NOT_FOUND )
            )
    );</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Depending on the attribute you will change more of the default behaviour and will have to provide custom implementations.
Use the most appropriate attribute for your use case.
See the <a href="#appendix-entity-configuration-attributes">appendix for more information on the different attributes</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_default_entity_configuration"><a class="anchor" href="#_default_entity_configuration"></a>9. Default entity configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_auditable"><a class="anchor" href="#_auditable"></a>9.1. Auditable</h3>
<div class="paragraph">
<p>If <em>SpringSecurityModule</em> is present, EntityModule adapts the default views for <code>Auditable</code> entities.
The <strong>createdBy</strong> and <strong>lastModifiedBy</strong> properties are rendered using an <code>AuditablePrincipalPropertyViewElementBuilder</code> which uses the <code>SecurityPrincipalLabelResolverStrategy</code> to generate a pretty label for a principal (eg. full name instead of username).
The default properties are removed from default views, but an aggregated property <strong>created</strong> and <strong>lastModified</strong> is added.
The aggregated properties combine both the timestamp and the principal in a single property using the <code>AuditablePropertyViewElementBuilder</code>.</p>
</div>
<div class="paragraph">
<p>See the <code>AuditableEntityUiConfiguration</code> for full customization.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="entity-query"><a class="anchor" href="#entity-query"></a>10. EntityQuery infrastructure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>EntityModule provides an abstraction layer for querying entities.
This abstraction is built around the concept of an <code>EntityQuery</code>.</p>
</div>
<div class="paragraph">
<p>This chapter gives some insight in the setup and how to customize if so wanted.</p>
</div>
<div class="sect2">
<h3 id="entity-query-executor"><a class="anchor" href="#entity-query-executor"></a>10.1. EntityQueryExecutor</h3>
<div class="paragraph">
<p>The <code>EntityQueryExecutor</code> is responsible for executing an <code>EntityQuery</code> and returning the entities requested.
An <code>EntityConfiguration</code> can have a single <code>EntityQueryExecutor.class</code> attribute holding the executor instance.</p>
</div>
<div class="paragraph">
<p>Default implementations exist for <code>JpaSpecificationExecutor</code> and <code>QueryDslPredicateExecutor</code>.
This means that any entity configurations having a repository of this type will get an <code>EntityQueryExecutor</code> created automatically.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Since the <code>EntityQueryExecutor</code> is backed by a specific repository implementation, supported functionality also depends on the actual backing repository.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The presence of the <code>EntityQueryExecutor</code> is a requirement for the default <a href="#entity-views">entity views</a>.</p>
</div>
<div class="sect3">
<h4 id="_associatedentityqueryexecutor"><a class="anchor" href="#_associatedentityqueryexecutor"></a>10.1.1. AssociatedEntityQueryExecutor</h4>
<div class="paragraph">
<p>Like <code>EntityQueryExecutor</code> that is registered on the <code>EntityConfiguration</code>, every <code>EntityAssociation</code> can have an <code>AssociatedEntityQueryExecutor</code> registered.
The <code>AssociatedEntityQueryExecutor</code> allows executing queries in the context of a single parent object.</p>
</div>
<div class="paragraph">
<p>Like the <code>EntityQueryExecutor</code>, the <code>AssociatedEntityQueryExecutor</code> is usually added automatically.</p>
</div>
<div class="paragraph">
<p>The presence of the <code>AssociatedEntityQueryExecutor</code> is a requirement for the default association <a href="#entity-views">entity views</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="entity-query-language"><a class="anchor" href="#entity-query-language"></a>10.2. EntityQuery Language (EQL)</h3>
<div class="paragraph">
<p>Apart from building an <code>EntityQuery</code> in code, one can be specified using the EntityQuery Language (EQL).
EQL provides an SQL-like syntax for building queries.  Some examples could be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name = 'john'</code></p>
</li>
<li>
<p><code>name = 'john' and birthday &gt;= '1980-01-01'</code></p>
</li>
<li>
<p><code>(name in ('john', 'jane') and birthday = today()) or birthday is EMPTY</code></p>
</li>
<li>
<p><code>children contains 'john' or children is EMPTY</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A single clause of a query consists of a <em>field</em>, followed by an <em>operator</em>, followed by one or more <em>values</em> or <em>functions</em>.
Multiple <em>values</em> for one field are grouped together inside parentheses.
Clauses can be combined using either <em>and</em> or <em>or</em>.
Operator precedence can be enforced by using parentheses around a clause.</p>
</div>
<div class="paragraph">
<p>A <em>field</em> of a query clause usually corresponds with a single property you want to query.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Special characters in string literals should be escaped using the \ (backslash) character.
In case of like conditions, they should be double-escaped.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_supported_operators"><a class="anchor" href="#_supported_operators"></a>10.2.1. Supported operators</h4>
<div class="sect4">
<h5 id="_equality_operators"><a class="anchor" href="#_equality_operators"></a>Equality operators</h5>
<div class="paragraph">
<p>Usable on most property types.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>=</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equals<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>!=</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not equals<br></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_in_not_in"><a class="anchor" href="#_in_not_in"></a>IN/NOT IN</h5>
<div class="paragraph">
<p>Usable on most property types.
These are the only operators that take a group of values as argument.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>IN</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equal to any of the argument values<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NOT IN</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not equal to any of the argument values<br></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_comparing_operators"><a class="anchor" href="#_comparing_operators"></a>Comparing operators</h5>
<div class="paragraph">
<p>Usable on numeric and date property types.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>&gt;</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">greater than<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>&gt;=</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">greater than or equal to<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>&lt;</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">less than<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>&#8656;</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">less than or equal to<br></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_like_operators"><a class="anchor" href="#_like_operators"></a>LIKE operators</h5>
<div class="paragraph">
<p>Usable on string property types.
The argument specifies the pattern that property value should match.
The pattern can contain simple wildcard specified using <strong>%</strong>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>LIKE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">should match the pattern specified as argument<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NOT LIKE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">should not match the pattern specified as argument<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ILIKE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">case insensitive match of the pattern specified as argument<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NOT ILIKE</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">should not match the pattern specified as argument (case insensitive)<br></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Special characters in LIKE statements should be double-escaped using the \ (backslash) character.
This includes the literal % (percentage) character.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Case insensitive property matching</div>
<p>When using <strong>ILIKE</strong> conditions, a case insensitive lookup will be performed in the datastore.
If you want to force a property to always have a case insensitive lookup, you can do so by configuring a <code>EntityQueryConditionTranslator</code> attribute on that property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">configuration
 .withType( Group.class )
 .properties(
    props -&gt; props.property( "name" ).attribute( EntityQueryConditionTranslator.class, EntityQueryConditionTranslator.ignoreCase() )
 )</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will convert any equality or like operator to the equivalent case insensitive lookup.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Whenever possible, it is probably best to use collaction settings of your datastore to ensure case insentive querying of properties.
Configuring it on a datastore level will almost certainly give you much better performance.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_contains_not_contains"><a class="anchor" href="#_contains_not_contains"></a>CONTAINS/NOT CONTAINS</h5>
<div class="paragraph">
<p>Usable on collection property types.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CONTAINS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">argument should be present in the collection<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NOT CONTAINS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">argument should not be present in the collection<br></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_is_empty_is_not_empty"><a class="anchor" href="#_is_empty_is_not_empty"></a>IS EMPTY/IS NOT EMPTY</h5>
<div class="paragraph">
<p>Usable on most property types, although the behaviour is slightly different for collection types.
These operators to not take any additional arguments.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>IS EMPTY</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">property should be unset (null) or have no members (in case of collection) <br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>IS NOT EMPTY</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">property should be set (not null) or have at least one member (in case of collection)<br></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_default_eql_functions"><a class="anchor" href="#_default_eql_functions"></a>10.2.2. Default EQL functions</h4>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Security related functions</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>currentUser()</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">returns the name of the current authenticated principal</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Date and time functions</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>now()</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">returns current timestamp<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>today()</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">returns date of today<br></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_entityqueryparser"><a class="anchor" href="#_entityqueryparser"></a>10.2.3. EntityQueryParser</h4>
<div class="paragraph">
<p>The <code>EntityQueryParser</code> is responsible for converting an EQL statement into a valid <code>EntityQuery</code>.
Any entity configuration with an <code>EntityQueryExecutor</code> registered will have an <code>EntityQueryParser</code> created automatically.</p>
</div>
<div class="paragraph">
<p>The parser will validate the EQL statement and convert it to a strongly typed <code>EntityQuery</code>.
The default <code>EntityQueryParser</code> uses the entity related <code>EntityPropertyRegistry</code> to validate the query clauses.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_eql_filtering_on_list_view"><a class="anchor" href="#_eql_filtering_on_list_view"></a>10.3. EQL filtering on list view</h3>
<div class="paragraph">
<p>Any entity configuration having an <code>EntityQueryParser</code> and <code>EntityQueryExecutor</code> can enable an EQL based filter on its list views.
This can be done through the <code>entityQueryFilter()</code> method on the `EntityListViewFactoryBuilder.</p>
</div>
<div class="paragraph">
<p>The EQL filter will add a simple textbox that allows you to enter the EQL statement you want to use as filter for the list view.
Extend the <code>EntityQueryFilterProcessor</code> if you want to customize the default implementation.</p>
</div>
<div class="listingblock">
<div class="title">Enabling the default EQL filter</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">entities.withType( Group.class )
        .listView( lvb -&gt; lvb.entityQueryFilter( true )	);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="eql-predicate-on-list-view"><a class="anchor" href="#eql-predicate-on-list-view"></a>10.4. EQL predicate on list view</h3>
<div class="paragraph">
<p>List views also support a base predicate to be configured as an EQL statement.
This base predicate will always be applied to the query being executed if it uses the <code>DefaultEntityFetchingViewProcessor</code> or the <code>EntityQueryFilterProcessor</code>.</p>
</div>
<div class="listingblock">
<div class="title">Ensure deleted (flag) items are never shown</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">entities.withType( Group.class )
        .listView( lvb -&gt; lvb.entityQueryPredicate( "deleted = false" )	);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Like EQL based filtering, this requires the entity configuration to have a valid <code>EntityQueryExecutor</code> infrastructure.</p>
</div>
</div>
<div class="sect2">
<h3 id="_extending_eql"><a class="anchor" href="#_extending_eql"></a>10.5. Extending EQL</h3>
<div class="paragraph">
<p>The <code>EntityQuery</code> infrastructure provides some hooks you can use to extend the EQL support with application specific methods.</p>
</div>
<div class="sect3">
<h4 id="_custom_value_conversion"><a class="anchor" href="#_custom_value_conversion"></a>10.5.1. Custom value conversion</h4>
<div class="paragraph">
<p>When converting an EQL query all value arguments are first converted to an <code>EQType</code> representation before being converted into their respective Java type.
Actual type conversion is then done via the Spring <code>ConversionService</code>.
To create a custom conversion you can simply register a <code>Converter</code> that converts from the relevant <code>EQType</code> to the property type.</p>
</div>
<div class="paragraph">
<p>The following table shows how EQL arguments will be converted to their respective <code>EQType</code>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Argument value</th>
<th class="tableblock halign-left valign-top">EQType</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EQValue</code>: name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">'name'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EQString</code>: name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(name, 'name')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EQGroup</code><br>
 - <code>EQValue</code>: name<br>
 - <code>EQString</code>: name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">users(name, 'name')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EQFunction</code>: users<br>
   [arguments]<br>
   - <code>EQValue</code>: name<br>
   - <code>EQString</code>: name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>By default EntityModule registers id-based lookups for all its registered entities.
So supposing you have an entity <code>User</code> with id 1 and you want to query on a property <strong>creator</strong> of type <code>User</code>, the following query would work: <code>creator = 1</code>.</p>
</div>
<div class="paragraph">
<p>When building the <code>EntityQuery</code> the value 1 would be used as the id to find the <code>User</code> instance, and the latter would be used as the argument for the final query.
If we want to replace the custom behavior and allow the user to be specified by username instead, we could easily register a custom converter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class EQValueToUserConverter implements Converter&lt;EQValue, User&gt;
{
    ...

    @Override
    public User convert( EQValue source ) {
        return userRepository.findByUsername( source.getValue() );
    }
}

...

converterRegistry.addConverter( new EQValueToUserConverter(...) );</code></pre>
</div>
</div>
<div class="paragraph">
<p>This would allow us to execute the queries like <code>creator = john</code> or  <code>creator in (john, jane)</code>.
Any type-specific converter will take precedence over the defaults.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The example above would only work if the username can never contain any whitespace.
If it can, then we would have to specify it as a String instead and write a converter for <code>EQString</code> instead of <code>EQValue</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_adding_custom_functions"><a class="anchor" href="#_adding_custom_functions"></a>10.5.2. Adding custom functions</h4>
<div class="paragraph">
<p>An EQL function is represented by a unique name and can optionally take a number of arguments for its execution.
Adding custom functions is as easy as simply defining a <code>@Component</code> that implements the <code>EntityQueryFunctionHandler</code> interface.
All components of this type will be detected and checked when executing an EQL query.</p>
</div>
<div class="paragraph">
<p>The handler will be called with the required contextual data for the return type requested.
If you want to use a function to compare a property that has a <code>Date</code> type, your function should return a <code>Date</code> instance as well.</p>
</div>
<div class="paragraph">
<p>A single handler can support multiple functions and requested return types.</p>
</div>
<div class="listingblock">
<div class="title">Simple EntityQuery function that always returns the String hello</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">/**
 * Simple EntityQuery function that always returns the String 'hello'.
 * Example eql: name = hello() or name in (hello(), 'goodbye')
 */
@Component
public class HelloFunction implements EntityQueryFunctionHandler
{
	@Override
	public boolean accepts( String functionName, TypeDescriptor desiredType ) {
		return "hello".equals( functionName );
	}

	@Override
	public Object apply( String functionName,
	                     EQType[] arguments,
	                     TypeDescriptor desiredType,
	                     EQTypeConverter argumentConverter ) {
		return "hello";
	}
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_custom_eql_translation"><a class="anchor" href="#_custom_eql_translation"></a>10.5.3. Custom EQL translation</h4>
<div class="paragraph">
<p>You can register an <code>EntityQueryConditionTranslator</code> attribute on any entity property.
If a translator instance is present, it will be called during the parsing phase of an EQL into an <code>EntityQuery</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example registering a translator</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">configuration
 .withType( Group.class )
 .properties(
    props -&gt; props.property( "name" ).attribute( EntityQueryConditionTranslator.class, EntityQueryConditionTranslator.ignoreCase() )
 )</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_appendices"><a class="anchor" href="#_appendices"></a>11. Appendices</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="appendix-entity-configuration-attributes"><a class="anchor" href="#appendix-entity-configuration-attributes"></a>11.1. EntityConfiguration attributes</h3>
<div class="paragraph">
<p>The following table lists commonly present attributes on an <code>EntityConfiguration</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Repository.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In case of an entity registered through a Spring Data repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RepositoryFactoryInformation.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In case of an entity registered through a Spring Data repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PersistentEntity.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In case of an entity registered through a Spring Data repository that exposed <code>PersistentEntity</code> information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityQueryExecutor.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Holds the <code>EntityQueryExecutor</code> that can be used for <a href="#entity-query">custom <code>EntityQuery</code> execution</a> and will be used by default for fetching entities.
Available if the <code>Repository</code> was supported by one of the <a href="#entity-query-executor">default <code>EntityQueryExecutor</code> implementations</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityQueryParser.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Holds the <code>EntityQueryParser</code> that should be used for <a href="#entity-query-language">parsing EQL statements</a> into a valid <code>EntityQuery</code>.
Available if the <code>EntityQueryExecutor.class</code> attribute is present.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityAttributes.TRANSACTION_MANAGER_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optionally holds the name of the <code>PlatformTransactionManager</code> that the repository for this entity uses.
EntityModule attempts to detect the transaction manager automatically for every Spring Data repository.
When set, this will enable transaction management for the default create, update and delete views.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OptionGenerator.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set on an <code>EntityConfiguration</code>, this will be the default generator used to create the set of options that can be selected for a property that points to the entity configuration.
If all you want to configure is the list of possible options, set the <code>OptionIterableBuilder.class</code> attribute instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OptionIterableBuilder.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set on an <code>EntityConfiguration</code>, this will be the default builder used to create the set of options that can be selected for a property that points to the entity configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityAttributes.OPTIONS_ENTITY_QUERY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set on an <code>EntityConfiguration</code>, contains the EQL statement or <code>EntityQuery</code> that should be used to fetch the selectable options for a property that points to the entity configuration.
Will only be used if there is no <code>OptionGenerator.class</code> or <code>OptionIterableBuilder.class</code> attribute set.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-entity-property-descriptor-attributes"><a class="anchor" href="#appendix-entity-property-descriptor-attributes"></a>11.2. EntityPropertyDescriptor attributes</h3>
<div class="paragraph">
<p>The following table lists commonly present attributes on an <code>EntityPropertyDescriptor</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PersistentProperty.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In case of a property of a <code>PersistentEntity</code> registered through a Spring Data repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Sort.Order.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the default <code>Sort.Order</code> if sorting is enabled on this property.
By default strings have an order that ignores case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityAttributes.CONTROL_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional: required to be a <code>String</code> value.
When present this value will be used as the form control name instead of the descriptor name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityAttributes.NATIVE_PROPERTY_DESCRIPTOR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When present holds the Java beans property descriptor that was used to create the <code>EntityPropertyDescriptor</code>.
The presence of this attribute indicates that the property is not artificial but corresponds to an actual Java class property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OptionGenerator.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set on an <code>EntityPropertyDescriptor</code>, this will be the generator used to create the set of options that can be selected for that property.
If all you want to configure is the list of possible options, set the <code>OptionIterableBuilder.class</code> attribute instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OptionIterableBuilder.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set on an <code>EntityPropertyDescriptor</code>, this will be the builder used to create the set of options that can be selected for that property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityAttributes.OPTIONS_ENTITY_QUERY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When set on an <code>EntityPropertyDescriptor</code>, contains the EQL statement or <code>EntityQuery</code> that should be used to fetch the selectable options for that property.
Will only be used if there is no <code>OptionGenerator.class</code> or <code>OptionIterableBuilder.class</code> attribute set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityAttributes.OPTIONS_ALLOWED_VALUES</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only applicable if the property is of an enum type.
When set, the attribute holds the <code>EnumSet</code> of selectable values.
If you want to customize selection of a non-enum type, see the other option related attributes.
Will only be used if there is no <code>OptionGenerator.class</code> or <code>OptionIterableBuilder.class</code> attribute set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SelectFormElementConfiguration.class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can hold the configuration instance that should be used when generating a select control for this propery.
Unless a specific <code>ViewElement</code> type has been specified, this will force the control type generated to be a select as well.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-message-codes"><a class="anchor" href="#appendix-message-codes"></a>11.3. Message codes</h3>
<div class="paragraph">
<p>Labels are resolved using a message code hierarchy.
Simply define one or more message sources specifying the properties you want.
Unless custom <code>EntityMessageCodeResolver</code> instances are being used, message codes are generated as follows:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Message code</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enums.<strong>EnumName</strong>.<strong>EnumValue</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message code for a single enum value label.<br>
Example: <em>enums.Numbers.ONE</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.name.singular</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label for an entity in singular form, for use outside or at the beginning of a sentence.<br>
Example: <em>UserModule.entities.user.name.singular</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.name.plural</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label for an entity in plural form, for use outside or at the beginning of a sentence.<br>
Example: <em>UserModule.entities.user.name.plural</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.name.singular.inline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label for an entity in singular form, for use within a sentence. If not explicitly specified, the label is
generated based by lower-casing the non-inline version.<br>
Example: <em>UserModule.entities.user.name.singular.inline</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.name.plural.inline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label for an entity in plural form, for use within a sentence.  If not explicitly specified, the label is
 generated based by lower-casing the non-inline version.<br>
Example: <em>UserModule.entities.user.name.plural.inline</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.properties.<strong>propertyName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label for a single entity property.<br>
Example: <em>UserModule.entities.user.properties.username</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.properties.<strong>propertyName</strong>[description]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description text for a property.  If not empty this will be rendered in a help block on forms.<br>
Example: <em>UserModule.entities.user.properties.username[description]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.properties.<strong>propertyName</strong>[placeholder]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Placeholder text for a property.  Will be used for certain controle like textbox.<br>
Example: <em>UserModule.entities.user.properties.username[placeholder]</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.validation.<strong>validatorKey</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description text for a validation error message.  Optionally can be suffixed with the specific property name.<br>
Example: <em>UserModule.entities.user.validation.NotBlank</em>,  <em>UserModule.entities.user.validation.alreadyExists.username</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.adminMenu.general</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the <em>General</em> tab.
Usually the first tab that is also opened when creating a new entity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.adminMenu.<strong>associationName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the tab for that association.<br>
Example: <em>UserModule.entities.group.adminMenu.user.groups</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.actions.<strong>actionName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the actions, usually the buttons or links on a page.
Often you just want to replace these on a global level.<br>
Example: <em>EntityModule.entities.actions.save</em>, <em>UserModule.entities.group.actions.cancel</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.pageTitle.<strong>pageName</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title of the page.
Supports <a href="#message-code-parameters">message code parameters</a>.<br>
Example: <em>UserModule.entities.user.pageTitle.update=Updating {1}: {2}</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.pageTitle.<strong>pageName</strong>.subText</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional text that should be added as sub text (small) to the page header.
Supports <a href="#message-code-parameters">message code parameters</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.feedback.<strong>feedbackType</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feedback message shown for the given feedback type.<br>
Example: <em>UserModule.entities.user.feedback.validationErrors</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.sortableTable.*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sortable table results and pager text keys.<br>
Example: <em>UserModule.entities.user.sortableTable.resultsFound</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>EntityPrefix</strong>.delete.*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete view specific messages.<br>
Example: <em>UserModule.entities.user.delete.confirmation</em></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Entity</em> codes are camel cased, eg. <code>CarBrand</code> would become <strong>carBrand</strong>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">EntityPrefix</div>
<p>Every code requested results in several codes being tried with a number of prefixes:
The following prefixes are tried in oder:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>(If association view) <em>ModuleName</em>.entities.<em>sourceEntityName</em>.associations[<em>associationName</em>]</p>
</li>
<li>
<p><em>ModuleName</em>.entities.<em>entityName</em></p>
</li>
<li>
<p>EntityModule.entities.<em>entityName</em></p>
</li>
<li>
<p>EntityModule.entities</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When rendering a view, the default prefix will be appended with a view type prefix as well.
Usually of the form <em>views[viewType]</em>.</p>
</div>
<div class="paragraph">
<p>Example lookup of property "name" on the default list view for entity "user":</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>MyModule.entities.user.views[listView].properties.name</p>
</li>
<li>
<p>MyModule.entities.user.properties.name</p>
</li>
<li>
<p>MyModule.entities.views[listView].properties.name</p>
</li>
<li>
<p>MyModule.entities.properties.name</p>
</li>
<li>
<p>EntityModule.entities.views[listView].properties.name</p>
</li>
<li>
<p>EntityModule.entities.properties.name</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
To get a better insight in the message codes generated, use the entity browser in the developer tools.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Default messages</div>
<p>See the <a href="https://bitbucket.org/beforeach/entity-ui-module/src/5bcf5de44d5fb03632dfee13d9915db65bb5d268/entity-module/src/main/resources/messages/entity/EntityModule.properties">source code of EntityModule.properties</a> for all default message codes used by EntityModule.</p>
</div>
<div id="message-code-parameters" class="paragraph">
<div class="title">Message code parameters</div>
<p>Some message codes support parameters, if so, the following could be available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>{0}: entity name</p>
</li>
<li>
<p>{1}: entity name inline</p>
</li>
<li>
<p>{2}: label of the entity being modified (if known)</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Debugging message code lookups</div>
<p>You can trace the message codes being resolved by setting the logger named <strong>com.foreach.across.modules.entity.support.EntityMessageCodeResolver</strong> to <em>TRACE</em> level.</p>
</div>
</div>
<div class="sect2">
<h3 id="appendix-view-processors"><a class="anchor" href="#appendix-view-processors"></a>11.4. Default EntityViewProcessors</h3>
<div class="paragraph">
<p>This chapter lists the general purpose <code>EntityViewProcessor</code> classes that are provided by EntityModule.
The <a href="#entity-views">default entity views</a> are all built on these processors.</p>
</div>
<div class="paragraph">
<p>You can use these manually to assemble a <code>DefaultEntityViewFactory</code>, though some will be configured automatically if you use one of the builders.</p>
</div>
<div class="paragraph">
<p>The class javadoc gives more detailed information.
For a full list of all processors available, see the <a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/package-summary.html">package summary</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/ActionAllowedAuthorizationViewProcessor.html">ActionAllowedAuthorizationViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verifies an the entity configuration or association being requested is not hidden, and a configured <code>AllowableAction</code> is present.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/DefaultEntityFetchingViewProcessor.html">DefaultEntityFetchingViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses the default repository or query fetcher to fetch all items for the current entity view context.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/DefaultValidationViewProcessor.html">DefaultValidationViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registers the default <code>EntityViewCommandValidator</code> and validates the command object if state changing web request (POST, PUT, DELETE, PATCH) is performed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/DelegatingEntityFetchingViewProcessor.html">DelegatingEntityFetchingViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fetches items using a configured <code>Function</code> or <code>BiFunction</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/EntityPropertyRegistryViewProcessor.html">EntityPropertyRegistryViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registers a custom <code>EntityPropertyRegistry</code> on the view context.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/EntityQueryFilterProcessor.html">EntityQueryFilterProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds an <a href="#entity-query-language">EntityQuery language</a> based filter to a list view.
Adds both the form with textbox and fetches the items based on the form values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/GlobalFeedbackViewProcessor.html">GlobalFeedbackViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders global feedback on a <code>PageContentStructure</code> (admin page).
 Global feedback is usually added using <code>EntityViewPageHelper</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/ListFormViewProcessor.html">ListFormViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a default form at the top of a list view.
Optionally add a create button.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/ListPageStructureViewProcessor.html">ListPageStructureViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates the page structure for an entity list view.
Add a page title and publishes the <code>EntityPageStructureRenderedEvent</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/MessagePrefixingViewProcessor.html">MessagePrefixingViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures custom prefixes that should be used for message code resolving.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/PageableExtensionViewProcessor.html">PageableExtensionViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a <code>Pageable</code> from request parameters and binds it to an <code>EntityViewCommand</code> extension.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/PropertyRenderingViewProcessor.html">PropertyRenderingViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders a list of properties: allows the properties to be configured as well as the <code>ViewElementMode</code> for rendering.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/SingleEntityFormViewProcessor.html">SingleEntityFormViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a form-based layout for an entity view.
Supports configuring the form grid (defaults to 2 columns), adding default actions (save/cancel) and adding global binding error messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/SingleEntityPageStructureViewProcessor.html">SingleEntityPageStructureViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates the page structure for a single entity.
Adds a page title, builds the entity specific menu (renders it as tabs) and publishes the <code>EntityPageStructureRenderedEvent</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/SortableTableRenderingViewProcessor.html">SortableTableRenderingViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates a sortable table for a list of entities.
Allows several configuration options like properties to render, sorting options etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://across.foreach.be/docs/across-standard-modules/EntityModule/2.1.0.RELEASE/javadoc/com/foreach/across/modules/entity/views/processors/TemplateViewProcessor.html">TemplateViewProcessor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures the name of the template that should be rendered as the result of the controller.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-08-26 13:19:17 CEST
</div>
</div>
</body>
</html>